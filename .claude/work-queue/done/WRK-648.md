---
id: WRK-648
title: "validate(review): test patched Claude wrapper on full WRK-624 plan spec"
status: done
priority: high
complexity: medium
route: B
compound: false
created_at: 2026-02-28T00:00:00Z
target_repos:
  - workspace-hub
commit:
spec_ref:
related:
  - WRK-624
  - WRK-647
blocked_by: []
parent:
synced_to: []
plan_reviewed: true
plan_approved: true
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
provider: codex
provider_alt: claude
cross_review: strong
html_output_ref: assets/WRK-648/review.html
claim_routing_ref: .claude/work-queue/assets/WRK-648/claim-evidence.yaml
plan_html_review_draft_ref: .claude/work-queue/assets/WRK-648/plan-html-review-draft.md
plan_html_review_final_ref: .claude/work-queue/assets/WRK-648/plan-html-review-final.md
html_verification_ref: .claude/work-queue/assets/WRK-648/html-verification.md
---

# validate(review): Test Patched Claude Wrapper on Full WRK-624 Plan Spec

## Problem

`WRK-647` validated the patched Claude wrapper on the compact bundle path. Claude
returned a schema-valid review, but the review focused on truncated or missing
context in the compact bundle. Now that transport is proven, the next question is
whether Claude can handle the full `WRK-624` plan spec through the same patched
temp-file `Read` path.

## What

Run the patched Claude wrapper against the full `specs/wrk/WRK-624/plan.md`
without `--compact-plan`, then compare the result against the compact-bundle
review from `WRK-647`.

## Scope

1. run patched `submit-to-claude.sh` on full `WRK-624` plan spec
2. capture stdout/stderr/exit code and rendered review artifact
3. validate output and classify result
4. compare review quality and behavior against `WRK-647`
5. produce HTML review artifact for user inspection

## Plan

### Phase 1 - Execute full-bundle review
- run patched wrapper on `specs/wrk/WRK-624/plan.md` without `--compact-plan`
- use bounded timeout and single retry for clean evidence

### Phase 2 - Validate output
- inspect returned review artifact
- validate schema if present
- record exit behavior and error path

### Phase 3 - Compare against compact review
- compare substantive findings vs `WRK-647`
- determine whether full bundle should replace compact bundle for Route C review
- produce review HTML artifact

## Acceptance Criteria

- [x] Patched Claude wrapper is tested on full `specs/wrk/WRK-624/plan.md`
- [x] Result is captured and classified
- [x] Comparison against `WRK-647` is documented
- [x] HTML review artifact exists for user inspection

## Evidence

- Review artifact: `/mnt/local-analysis/workspace-hub/.claude/work-queue/assets/WRK-648/raw/claude-review-full.md`
- Results: `/mnt/local-analysis/workspace-hub/.claude/work-queue/assets/WRK-648/results.md`
- HTML review artifact: `/mnt/local-analysis/workspace-hub/.claude/work-queue/assets/WRK-648/review.html`

## Outcome

The patched Claude wrapper did not return a usable review artifact on the full
`WRK-624` plan spec within the bounded run window. Compared with the compact-bundle
success in `WRK-647`, this shows that the compact bundle remains the operationally
viable Claude review path for now.
