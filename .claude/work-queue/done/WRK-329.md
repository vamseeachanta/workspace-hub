---
id: WRK-329
title: Formalise doris calculation workflow — migrate ad-hoc calcs to Python modules
status: done
priority: medium
complexity: high
compound: false
created_at: 2026-02-22T00:00:00Z
target_repos:
  - doris
commit: e9d73eb
spec_ref: specs/pipeline/
related: [WRK-309]
blocked_by: []
synced_to: []
plan_reviewed: true
plan_approved: true
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
---

# Formalise doris calculation workflow — migrate ad-hoc calcs to Python modules

## What

Doris currently has ad-hoc MATLAB/Excel-based pipeline design calculations. Migrate key
workflows to Python modules following digitalmodel's config-driven pattern. Start with wall
thickness sizing and pressure containment. Add specs/ directory and pytest coverage.

## Why

Ad-hoc calculations in MATLAB and Excel are difficult to version control, test, and reproduce.
Migrating to Python modules with config-driven input and pytest coverage brings doris in line
with digitalmodel's established pattern, enabling consistent quality, traceability, and AI
agent assistance.

## Acceptance Criteria

- [x] doris repo structure: src/doris/ package, specs/, tests/ directories
- [x] pyproject.toml with dependencies and test configuration
- [x] Wall thickness sizing module: input (pressure, depth, material) -> output (minimum WT)
- [x] Pressure containment module: burst, collapse, combined loading checks
- [x] Config-driven input: YAML/ASCII configuration files
- [x] Pattern follows digitalmodel's module framework (similar interface and conventions)
- [x] Pytest coverage for all migrated calculations (93.26% total, above 80% threshold)
- [x] specs/ directory with design documentation

---
*Source: Phase G doris expansion — WRK-309 Document Intelligence.*
