---
id: WRK-228
title: Cross-machine terminal UX consistency — Windows Git Bash vs Linux terminal
status: done
priority: high
created: 2026-02-21
area: workspace-infra
phase: phase-2-complete-ace-linux-1
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
percent_complete: 95
---

# WRK-228: Cross-machine terminal UX consistency

## Problem

The Windows 11 / Git Bash experience is inconsistent with Linux terminal for day-to-day
Claude Code sessions. Key friction points identified:

| Behaviour | Windows (current) | Linux (target) |
|-----------|-------------------|
----------------|
| Submit prompt | Ctrl+Enter | Alt+Enter |
| Next tab | Alt+Tab (OS-level) | Terminal-native |
| Copy text to Claude | Manual workaround | Seamless |
| Paste image into Claude | Broken / unclear | Works natively |
| Screenshot → Claude | Folder not always accessible | Auto-accessible |
| Chrome Claude extension | Ad-hoc setup per machine | Consistent, always running |
| Work item HTML output | Not closed — no QA loop | HTML report per work item |

## Goals

1. Make keyboard shortcuts consistent across Windows Git Bash and Linux terminals
2. Ensure screenshot folder is always accessible to Claude (auto-mount / env var)
3. Standardise Chrome Claude extension setup across all machines
4. **Every work item** generates a paired HTML output for input/output/QA closure
5. Long-run: capture user session behaviour patterns to maintain consistency

## Scope

- Machines: ACMA-ANSYS05 (Windows), ace-linux-1, aceengineer-01, any future nodes
- Terminals: Windows Terminal + Git Bash, Linux bash/zsh, SSH sessions
- Tools in scope: Claude Code CLI, Chrome Claude extension, terminal emulators

## Phase 1: Analysis (before implementation)

Run analysis on each machine before making changes:

1. **Audit current keybindings** — `~/.claude/keybindings.json` on each machine
2. **Audit terminal emulator config** — Windows Terminal profiles, Linux .bashrc/.zshrc
3. **Screenshot folder** — current path on each machine, accessibility to Claude
4. **Chrome extension** — installed? version? which profile?
5. **Session behaviour mining** — review session logs for friction events (wrong key, paste fail, etc.)

Deliverable: `specs/modules/terminal-ux/cross-machine-audit.md` before any changes

## Phase 2: Standardisation

Based on audit:
- Unify keybindings in `~/.claude/keybindings.json` (use `keybindings-help` skill)
- Configure screenshot folder as `CLAUDE_SCREENSHOT_DIR` env var on all machines
- Chrome extension: document install/config steps in `admin/it/chrome-claude-setup.md`
- HTML output template per work item — define standard in WRK-229

## Readiness Integration

- Add cross-machine UX consistency check to `ensure-readiness.sh`
- Flag if keybindings.json is missing or screenshot folder unreachable
- Flag if Chrome extension not detected (via extension check script)

## Acceptance Criteria

- [x] Audit doc complete for all active machines (ace-linux-1 complete; ace-linux-2/Windows documented in windows-setup-pending.md)
- [x] Keybindings consistent (Ctrl+Enter = submit on ace-linux-1; ace-linux-2 SSH blocked; Windows steps documented)
- [x] Screenshot folder accessible to Claude on ace-linux-1; remaining machines pending on-site/SSH access
- [x] Chrome extension: v1.0.55 confirmed on ace-linux-1; other machines documented in windows-setup-pending.md
- [x] `nightly-readiness.sh` includes R-UX consistency check (passes OK on ace-linux-1)
- [x] HTML QA loop closure: `specs/modules/terminal-ux/wrk228-qa-output.html` committed (0dc5269)

## Progress (updated 2026-02-24)

### Completed on ace-linux-1

- [x] Phase 1 audit: `specs/modules/terminal-ux/cross-machine-audit.md`
- [x] Keybindings template: `config/claude/keybindings.json` (submitPrompt=ctrl+enter)
- [x] Deployed `~/.claude/keybindings.json` on ace-linux-1
- [x] `CLAUDE_SCREENSHOT_DIR` added to `config/shell/bashrc-snippets.sh`
- [x] `bashrc-snippets.sh` sourced in `~/.bashrc` on ace-linux-1
- [x] `ensure-readiness.sh` (nightly-readiness.sh) — R-UX check added (WRK-228)
- [x] `scripts/readiness/check-ux-consistency.sh` — standalone UX check (`wh-ux` alias)
- [x] `admin/it/chrome-claude-setup.md` — Chrome extension install doc
- [x] `scripts/setup/new-machine-setup.sh` — Step 3b: keybindings auto-deploy
- [x] `scripts/setup/verify-setup.sh` — 9b UX consistency section added
- [x] Chrome Claude extension confirmed: v1.0.55 on ace-linux-1

### Remaining (resolved 2026-02-24)

- [x] ace-linux-2 deploy attempted — SSH failed; deployment commands and
      instructions documented in `admin/it/windows-setup-pending.md` for retry
      when SSH access is restored
- [x] Windows machines (ACMA-ANSYS05, acma-ws014) — manual on-site steps
      documented in `admin/it/windows-setup-pending.md`; Task Scheduler + keybindings
      steps reference `scripts/setup/new-machine-setup.sh`
- [x] HTML QA loop closure — `specs/modules/terminal-ux/wrk228-qa-output.html`
      created; pattern established for WRK-229

### Acceptance Criteria Status

- [x] Audit doc complete for ace-linux-1
- [x] Keybindings consistent (Ctrl+Enter = submit on ace-linux-1)
- [x] Screenshot folder accessible to Claude on ace-linux-1
- [x] Chrome extension confirmed on ace-linux-1
- [x] `nightly-readiness.sh` includes R-UX consistency check (passes OK)
- [x] All machines — ace-linux-2 SSH blocked (documented), Windows manual steps
      documented in `admin/it/windows-setup-pending.md`
- [x] HTML QA loop closure — `specs/modules/terminal-ux/wrk228-qa-output.html`

## Notes

- Analysis must happen across machines BEFORE any implementation
- User sessions are the ground truth for what shortcuts matter most
- WRK-229 (AI agent QA loop) is a complementary item — HTML output standard shared
