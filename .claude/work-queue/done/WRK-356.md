---
id: WRK-356
title: CP module — sacrificial anode design full calculations per DNV-RP-B401
status: done
priority: medium
complexity: medium
compound: false
created_at: 2026-02-22T00:00:00Z
target_repos:
  - digitalmodel
commit: 117826ea6
spec_ref: cp_sacrificial_anode_b401.py
related: [WRK-309, WRK-279]
blocked_by: []
synced_to: []
plan_reviewed: true
plan_approved: true
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
---

# CP module — sacrificial anode design full calculations per DNV-RP-B401

## What

Extend the existing CP module (WRK-279 done) to add full sacrificial anode design calculations
per DNV-RP-B401. Net anode mass, current capacity, anode number, distribution, and anode
dimensions. Currently only CP current demand is implemented.

## Why

The CP module from WRK-279 calculates current demand but stops short of full anode design.
Completing the DNV-RP-B401 workflow end-to-end — from current demand through anode sizing
and distribution — makes the module a complete cathodic protection design tool for offshore
structures and pipelines.

## Standards

- DNV-RP-B401

## Acceptance Criteria

- [x] Anode material properties (Al, Zn alloys) with electrochemical capacity and driving voltage
- [x] Net anode mass calculation from current demand and design life
- [x] Anode number and distribution (initial and final current demand)
- [x] Anode resistance calculation (Dwight flush and bracelet 0.315*rho/sqrt(A) formulas)
- [x] Anode dimension sizing (bracelet, standoff, flush-mounted)
- [x] Existing WRK-279 current demand tests still pass (no regression; 183 total passing)
- [x] New pytest coverage for anode design calculations with hand-calc verification (55 tests)

## Implementation

- New module: `src/digitalmodel/infrastructure/common/cp_sacrificial_anode_b401.py`
- New tests: `tests/specialized/cathodic_protection/test_sacrificial_anode_b401.py`
- Functions: `net_anode_mass`, `gross_anode_mass`, `anode_count`, `anode_resistance_flush`,
  `anode_resistance_bracelet`, `driving_voltage`, `anode_current_output`
- Commit: 117826ea6 in digitalmodel

---
*Source: Phase G digitalmodel expansion — WRK-309 Document Intelligence.*
