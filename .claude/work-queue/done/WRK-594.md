---
id: WRK-594
title: "data(worldenergydata): populate pipeline geometry lookup from BSEE + API 5L standard table"
status: done
priority: high
complexity: medium
compound: false
created_at: 2026-02-25T00:00:00Z
completed_at: 2026-02-25T00:00:00Z
target_repos:
  - worldenergydata
commit: 5bde0ce
related:
  - WRK-589
  - WRK-593
  - WRK-595
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
percent_complete: 100
---

# data(worldenergydata): Populate Pipeline Geometry Lookup — DONE

## Completed (commit 5bde0ce)

- [x] `data/modules/pipeline/api_5l_pipe_schedule.csv` — 43 rows covering NPS 4"-36"
  - STD, XS, XXS schedules per ASME B36.10M
  - 21" RISER_BORE entries (API STD 16F) for riser bore compatibility
  - grade_range X52-X80; domain_hint for flowline/export/transmission/riser

- [x] `PipelineSpecLookup` class at `worldenergydata.bsee.pipeline`:
  - `match_od_wt(od_m, wt_m, od_tolerance_m=0.003, wt_tolerance_m=0.003)`
  - Returns: nps_in, od_mm, schedule, grade_range, standard, domain_hint, source
  - wt_m=0 falls back to OD-only matching
  - None when no match within tolerance

- [x] Acceptance criteria verified:
  - `match_od_wt(0.2731, 0.012)` → nps_in=10.0 (10.75" infield pipeline)
  - `match_od_wt(0.5334, 0.025)` → nps_in=21.0 (offshore riser bore)

- [x] 22 tests pass

## Note: BSEE pipeline CSV

BSEE pipeline segment CSV (PipelineRaws.aspx) download deferred — requires
internet access and GoM-specific filtering. The spec_lookup.py is decoupled
from BSEE raw data and uses only the static API 5L schedule table. BSEE
pipeline CSV can be added separately when needed for GoM infrastructure queries.
