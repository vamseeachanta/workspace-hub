---
id: WRK-204
title: "digitalmodel: rename modules/ naming pattern across docs/, examples/, scripts/python/, base_configs/"
status: working
priority: medium
complexity: complex
route: C
created: 2026-02-18
repos:
  - digitalmodel
tags: [naming, structure, cleanup, docs]
plan_approved: true
plan_reviewed: true
spec_ref: 'specs/wrk/WRK-204/audit-report.md'
provider: claude
blocked_by: []
---

## Problem

`digitalmodel` uses `modules/` as a naming convention inside several parent directories.
This creates the same confusion as the workspace-hub root `modules/` that was cleaned up
in WRK-200. The two easy wins were handled inline (`.claude/modules/` → `.claude/agents/helpers/`,
`src/digitalmodel/modules/` empty stub removed).

Remaining `modules/` directories:

| Path | Files | Nature |
|------|-------|--------|
| `docs/modules/` | 9,328 | Entire engineering documentation hierarchy |
| `scripts/python/digitalmodel/modules/` | 232 | Engineering analysis Python scripts |
| `src/digitalmodel/infrastructure/base_configs/modules/` | 78 | Config YAML for engineering modules |
| `examples/modules/` | 99 | Engineering example files |
| `tests/modules/` | 2 tracked (+ untracked test data) | Test stubs + test fixture root |

## Proposed Renames

| Current | Target | Rationale |
|---------|--------|-----------|
| `docs/modules/` | `docs/domains/` | These are domain docs, not "modules" |
| `examples/modules/` | `examples/domains/` | Same logic |
| `scripts/python/digitalmodel/modules/` | `scripts/python/digitalmodel/analysis/` | These are analysis scripts |
| `src/digitalmodel/infrastructure/base_configs/modules/` | `src/digitalmodel/infrastructure/base_configs/domains/` | Config per domain |
| `tests/modules/` | `tests/domains/` | Tests organized by domain |

## Scope Warning

`docs/modules/` is the largest: **9,328 tracked files** across ~100 engineering domain subdirs.
All cross-references within docs (README.md links, index files) must be updated.
All references in `scripts/`, `src/`, `.claude/` that hardcode `docs/modules/` paths must be updated.

This is a significant undertaking — likely 500+ reference updates.

## Audit Steps (before implementation)

1. Count all references to each path pattern: `grep -r "docs/modules" | wc -l` etc.
2. Identify hardcoded paths in src/ Python code (fragile — runtime failures)
3. Identify script references (`.sh`, `.py` tools)
4. Plan rename order (deepest first to avoid broken intermediate state)

## Acceptance

- No `modules/` naming inside any directory in digitalmodel (except Python package internals)
- All cross-references updated
- Tests passing


## Execution Notes
- Phases 1–2 approved for execution (user authorised 2026-02-19)
- Phase 3 approved (user authorised 2026-02-19) — actual changes: 4 lines in 3 files
  (registry.py:88, orcaflex_model_utilities.py:15, aqwa_dat_files.py:119+134) + git mv 78 files
  Note: audit cited config_framework.py/config_models.py — code review confirmed neither has modules/ refs

## Progress

| Phase | Scope | Status | Commits (inside digitalmodel/) |
|-------|-------|--------|-------------------------------|
| 1 | examples/modules→domains, scripts/modules→analysis (333 files) | ✅ DONE | 90a01c9e4 |
| 2 | docs/modules→docs/domains + 271+ refs (9,390 files) | ✅ DONE | 3ff63ba0b, 3e58bd879 |
| 3 | base_configs/modules→domains + runtime refs (87 files) | ✅ DONE | 8ee1d6005, cbc930d6c |
| 4 | tests/modules/→tests/domains/ (2 tracked files + refs) | ⏳ PENDING APPROVAL | — |

**Phases 1–3 complete.** Final validation (zero refs): docs/modules ✓, examples/modules ✓, base_configs/modules ✓.

## Phase 4 Scope (pending approval)

| Item | Count |
|------|-------|
| Tracked files in tests/modules/ | 2 |
| Tool refs to cleanup (tests/modules) | ~30 |
| Markdown refs to update | ~196 |
| Shell scripts to update | ~3 |
