---
id: WRK-316
title: "Inventory and triage 194 legacy OrcFxAPI scripts for Phase 4 migration"
status: complete
priority: low
created: 2026-02-23
tags: [orcaflex, reporting, legacy, migration, inventory, phase4]
percent_complete: 100
blocked_by: [WRK-315]
links:
  - WRK-129
  - WRK-314
  - WRK-315
---

## Background

A codebase scan found **194 Python files** in `digitalmodel/docs/domains/orcaflex/`
that directly `import OrcFxAPI`. These are all pre-Phase-4 legacy scripts with
no framework, no tests, and no reuse mechanism.

## Discovery Details

Files are distributed across:

| Domain | Path pattern | Notes |
|--------|-------------|-------|
| Pipeline installation | `docs/domains/orcaflex/pipeline/installation/` | `generate_html_report.py` (795L), `generate_env_case_report.py` (687L) — see WRK-315 |
| Mooring semi | `docs/domains/orcaflex/mooring/semi/rao-check/` | RAO study scripts (~60L each) |
| Drilling riser | `docs/domains/orcaflex/risers/drilling/wd9500ft/` | Post-processing + preprocessing scripts |
| Production riser | `docs/domains/orcaflex/risers/production/compression-study/code/charts/` | 10+ chart-generation scripts |
| K01/K02 examples | `docs/modules/orcaflex/examples/raw/` | OrcaFlex sample scripts (GenPower, PythonController, etc.) — likely keep as-is |

## Goal

Produce a triage table classifying all 194 scripts by:

| Column | Values |
|--------|--------|
| `domain` | pipeline, riser, mooring, installation, example |
| `report_type` | html_report, chart, postproc, preproc, misc |
| `line_count` | number |
| `migration_priority` | migrate, archive, keep-as-example |
| `phase4_gap` | what Phase 4 would need to support migration |

## Acceptance Criteria

- [ ] Triage table committed to `docs/domains/orcaflex/LEGACY_SCRIPT_INVENTORY.md`
- [ ] Top 3 migration candidates identified with estimated effort
- [ ] Any systemic Phase 4 gaps (present in multiple scripts) captured as new WRK items
- [ ] K01/K02 OrcaFlex example scripts confirmed out-of-scope (vendor examples)

## Notes

- This is a **discovery + planning** task — no migration in scope here
- Use `grep -r "import OrcFxAPI" --include="*.py" --exclude-dir=.venv` to enumerate
- WRK-315 already handles the highest-priority candidate (24in pipeline scripts)
- Production riser compression-study chart scripts may be the second-highest priority
  (multiple Tension/Stress/Strain chart scripts suggest a missing chart-gallery feature
  in Phase 4)
