---
id: WRK-177
title: 'Stop Hook: Engineering Calculation Audit Trail'
status: pending
priority: high
complexity: medium
compound: false
created_at: 2026-02-17 00:00:00+00:00
source: plan-magical-snuggling-melody
target_repos:
- workspace-hub
- worldenergydata
module: engineering
tags:
- session-lifecycle
- audit-trail
- class-society
- calculations
spec_ref: null
related:
- WRK-173
- WRK-144
- WRK-157
- WRK-170
blocked_by: []
synced_to: []
provider: claude
provider_alt: codex
plan_reviewed: false
plan_approved: false
---

# WRK-177: Stop Hook — Engineering Calculation Audit Trail

## What
After sessions involving `wall_thickness`, `fatigue`, or `metocean` modules, auto-generate a calculation audit summary: inputs used, design code + edition, key results, warnings. Append to `state/engineering-audit/`. Required for project documentation and class society submissions.

## SME Discussion Required
- **Naval Architecture**: What audit fields do class societies (ABS, DNV-GL, BV) require?
- **Structural Engineering**: Should the audit capture load case combinations and safety factors?
- **All**: What format? PDF-ready markdown, or structured YAML for downstream tooling?

## Phases
- [ ] Phase 1: Define audit record schema (YAML) covering wall_thickness, fatigue, metocean
- [ ] Phase 2: Implement `hooks/engineering-audit.sh` — detect engineering tool calls from session log
- [ ] Phase 3: Generate summary from session JSONL, write to `state/engineering-audit/`
- [ ] Phase 4: Test with parametric sweep (WRK-158) and fatigue S-N (WRK-157) sessions
