---
id: WRK-679
title: "test(review): standardize execute gate variation tests"
status: pending
route: C
priority: medium
complexity: medium
compound: false
created_at: 2026-03-02T17:35:00Z
target_repos:
  - workspace-hub
commit:
spec_ref:
related:
  - WRK-624
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 0
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
provider: claude
orchestrator: claude
cross_review: pending
---
# test(review): standardize execute gate variation tests

## Problem

Execute-stage evidence currently varies between orchestrators, with some runs providing detailed smoke-test logs and others leaving placeholders. WRK-624 flags execute as a stage needing “example pack + variation-test evidence,” so we must standardize how orchestrators produce those outputs.

## What

Design a shared variation-test harness that runs the orchestrator scripts (watchdog, cross-review, maybe plan/test wrappers) and emits a consistent markdown report summarizing commands, exit codes, and cleanup verification. Ensure each orchestrator references the harness output in `variation-test-results.md` so gate validators trace the same file layout across Claude/Codex/Gemini.

## Plan

- Phase 1 — Harness: create `scripts/review/orchestrator-variation-check.sh` that accepts WRK id, orchestrator name, and the list of scripts to execute; it should log command, exit, and cleanup details.
- Phase 2 — Integration: call the harness as part of each orchestrator flow before closing; capture its output in `assets/WRK-66x/variation-test-results.md`.
- Phase 3 — Comparison update: update the orchestrator comparison and variation-test artifacts so every orchestrator references the harness report.

## Acceptance Criteria

- [ ] Orchestrator variation-test reports follow the same structure and include command summaries plus cleanup results.
- [ ] The new harness is invoked uniformly for Claude, Codex, and Gemini runs.
- [ ] Comparison HTML highlights the standardized execute-gate report file.
- [ ] Validators confirm the execute stage by reading the standardized report.

## Outcome

Execute gate evidence will be consistent across orchestrators, making the WRK-624 learnings easier to compare and audit.
