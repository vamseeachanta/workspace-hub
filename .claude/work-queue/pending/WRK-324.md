# WRK-324 â€” Create run_orcaflex.py scripts for representative examples and document .sim output structure

**Status:** complete | **Priority:** high | **Percent complete:** 100
**Blocked by:** WRK-323

## Goal

Write a `run_orcaflex.py` for each of six representative examples, following the OrcaWave
L02â€“L06 pattern. No `run_*.py` scripts currently exist anywhere in the OrcaFlex examples tree.

Analog to WRK-318 (OrcaWave run scripts for L02â€“L06).

## Scope

Six representative examples, one per major analysis type:

| Script target | Example | Analysis type |
|---|---|---|
| R01 | `modular/A01/A01 Catenary riser` | Time-domain riser analysis (static + dynamic) |
| R02 | `modular/A01/A01 Lazy wave riser` | Lazy wave riser variant, compare static shape |
| R03 | `modular/L01/L01 Default vessel` | Vessel motions / RAO extraction |
| R04 | `modular/K01/K01 ...` | Offshore wind FOWT (spar mooring + tower) |
| R05 | `modular/E08/E08 ...` | Lay table automation (YAML-driven batch) |
| R06 | `modular/C10/C10 ...` | Multiple statics with YAML input sweep |

## Acceptance criteria

- `run_orcaflex.py` created in each of the six modular example folders
- Each script:
  - Opens the modular `master.yml` via `OrcFxAPI.Model`
  - Runs static and/or dynamic simulation as appropriate to the example
  - Saves `.sim` output to the example folder
  - Prints key result summary (max tension, static sag, vessel Tz, etc.)
  - Documents expected outputs in a header docstring (filename, size range, key results)
- Scripts follow the OrcaWave convention: `uv run python run_orcaflex.py`
- OrcFxAPI path loaded portably (environment variable or auto-detect, not hardcoded)
- R05 documents the YAML batch workflow inline
- R06 documents the multiple-statics iteration loop inline

## Notes

- OrcaWave run scripts hardcode the OrcFxAPI path to
  `C:\Program Files (x86)\Orcina\OrcaFlex\11.6\OrcFxAPI\Python` â€” OrcaFlex scripts
  should detect the installed version dynamically or accept `ORCAFLEX_API_PATH` env var
- `.sim` files are large (50â€“70 MB dynamic); scripts should log file size on completion
- See `dynamic-analysis-guide.md` for static/dynamic/both run modes

## Route C Plan

- **Spec:** specs/wrk/WRK-324/plan.md
- **Plan reviewed:** yes
- **Plan approved:** yes (user-approved on 2026-02-26)

## Cross-Review Summary

| Iter | Date | Reviewer | Verdict | Notes |
|---|---|---|---|---|
| P1 | 2026-02-24 | Claude | MINOR | Initial implementation review; gaps captured in plan log. |
| P2 | 2026-02-26 | Codex | APPROVE | Triage + redo pass validated deliverables against acceptance criteria. |
| P3 | 2026-02-26 | Gemini | MINOR | Independent CLI review deferred due local command timeout; no conflicting evidence from artifacts. |

## Agentic AI Horizon

This work item is suitable for LLM-led analysis and implementation because inputs are file-centric, acceptance criteria are machine-checkable, and outputs are deterministic artifacts (docs/scripts/tests). Remaining human role is adjudicating deferred external-review risks.
