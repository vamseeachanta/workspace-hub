---
id: WRK-384
title: digitalmodel Module Registry — structured metadata for agent-callable modules
status: done
priority: high
complexity: medium
compound: false
created_at: 2026-02-24T00:00:00Z
target_repos:
  - digitalmodel
commit: 2057ebe0ca746f3676407f5bee8820461b919c7d
spec_ref:
related: [WRK-383, WRK-385]
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
---

# digitalmodel Module Registry

## What

Create `specs/module-registry.yaml` inside digitalmodel — a structured, agent-queryable
index of every sub-module: what it calculates, what standards it references, its
inputs/outputs, current maturity, and gaps.

## Why

700+ modules exist in digitalmodel. Without a structured index, agents cannot:
- Discover which module to use for a given engineering task
- Know what a module's limitations are
- Understand which standards are implemented vs missing
- Compose modules into multi-step calculation workflows

The registry turns digitalmodel from a code library into a **queryable engineering capability**.

## Module Categories

Derived from the existing src/digitalmodel/ structure:

### subsea/
- `pipeline` — wall thickness, pressure containment, collapse
- `catenary_riser` — static and dynamic catenary analysis
- `vertical_riser` — top-tensioned riser analysis
- `catenary` — generic catenary calculations
- `mooring_analysis` — mooring line loads and fatigue
- `viv_analysis` — vortex-induced vibration screening
- `analysis` — general subsea analysis utilities

### structural/
- `fatigue` — S-N curve fatigue life (DNV, BS, AWS)
- `fatigue_apps` — application wrappers for fatigue
- `structural_analysis` — beam/frame analysis (API RP 2A, ISO 19902)
- `pipe_capacity` — burst, collapse, tension (API TR 5C3, ASME B31.8)
- `pipe_cross_section` — cross-section properties
- `stress` — stress transformation, principal stresses
- `analysis` — general structural utilities

### hydrodynamics/
- `rao_analysis` — response amplitude operators
- `diffraction` — wave diffraction and radiation
- `wave_spectra` — JONSWAP, PM, directional spectra
- `hull_library` — hull form hydrostatics
- `aqwa` — AQWA interface utilities
- `bemrosetta` — BEMRosetta interface
- `coefficient_database` — Cm/Cd databases

### marine_ops/
- `marine_engineering` — installation engineering calculations
- `marine_analysis` — general marine analysis
- `artificial_lift` — ESP, rod pump, gas lift
- `reservoir` — basic reservoir engineering
- `ct_hydraulics` — coiled tubing hydraulics

### asset_integrity/
- `API579` — fitness-for-service per API 579
- `fracture_mechanics` — fracture toughness, CTOD, SIF
- `rsf_calculations` — remaining strength factor

### specialized/
- `api_analysis` — general API standard calculations
- `rigging` — lifting and rigging engineering
- `project_management` — project schedule utilities
- `gis` — spatial analysis utilities
- `finance` — NPV, IRR, project economics

## Registry YAML Schema

```yaml
# digitalmodel/specs/module-registry.yaml
generated: '2026-02-24'
repo: digitalmodel
modules:
  - id: structural/fatigue
    path: src/digitalmodel/structural/fatigue/
    description: S-N curve fatigue life calculation for offshore steel structures
    maturity: production  # production | stable | beta | stub
    capabilities:
      - Tubular joint fatigue (DNV S-N curves: B1, C, D, E, F, F2, G, W1, W2, W3, T)
      - Weld toe SCF lookup (Efthymiou parametric equations)
      - Accumulated fatigue damage (Palmgren-Miner rule)
    standards:
      - id: DNVGL-RP-C203
        clause: Sec 2-4
        status: implemented
      - id: BS-7608
        status: gap
      - id: ISO-19902
        clause: Annex A
        status: partial
    inputs:
      - name: stress_range
        type: array[float]
        unit: MPa
      - name: cycle_count
        type: array[int]
      - name: sn_curve
        type: str
        enum: [B1, C, D, E, F, F2, G, W1, W2, W3, T]
    outputs:
      - name: damage
        type: float
        description: Palmgren-Miner accumulated damage (< 1.0 = pass)
    gaps:
      - Spectral fatigue from irregular wave loading
      - Cathodic protection correction factor (DNV Table 2-1)
      - Biaxial stress interaction
    test_coverage: high
    related_wrk: [WRK-311]
```

## Implementation Steps

1. Survey each module: read `__init__.py`, key source files, existing test assertions
   to extract: what it does, inputs, outputs, standards referenced (grep for standard IDs)
2. Cross-reference with WRK-383 capability map to populate `standards[].status`
3. Write `specs/module-registry.yaml` in digitalmodel
4. Add query tool to `.claude/skills/digitalmodel/module-lookup/SKILL.md`

## Acceptance Criteria

- [ ] All 40+ sub-modules listed with at minimum: description, maturity, 1+ capabilities
- [ ] Standards linked to WRK-383 capability map (sha references)
- [ ] `scripts/readiness/query-docs.sh --capability "cathodic protection"` returns registry hit
- [ ] Registry consumable by Claude agents without reading source code
