---
id: WRK-102
title: "Refine digitalmodel tests to speed up runs"
status: pending
priority: medium
complexity: medium
created_at: 2026-02-08T06:15:00Z
updated_at: 2026-02-08T06:15:00Z
target_repos:
  - digitalmodel
commit:
spec_ref:
related: []
blocked_by: []
synced_to: []
---

# Refine Digitalmodel Tests to Speed Up Runs

## What
Profile and optimize the digitalmodel test suite to reduce total run time. Identify slow tests, remove redundant work, add timeouts, and improve fixture efficiency.

## Why
Faster test runs enable quicker iteration cycles and reduce CI wait times. Slow tests discourage frequent testing during development.

## Scope
1. **Profile** — Run full test suite with timing (`--durations=0`), identify slowest tests
2. **Categorize** — Separate unit vs integration vs solver-dependent tests
3. **Optimize** — Add pytest markers (slow, integration, solver), fixture caching, appropriate timeouts
4. **Parallelize** — Evaluate `pytest-xdist` for parallel execution where tests are independent

## Acceptance Criteria
- [ ] Profile report of current test times (baseline)
- [ ] Slowest tests identified and categorized
- [ ] pytest markers added for test categorization (fast, slow, integration, solver)
- [ ] Default `pytest` run completes faster than baseline
- [ ] `pytest -m "not slow"` gives a fast subset for development
- [ ] No test functionality removed — only reorganized

---
*Source: /work add to digitalmodel refine digitalmodel tests to speed up runs*
