---
id: WRK-129
title: "Standardize analysis reporting for each OrcaFlex structure type"
status: pending
priority: high
complexity: complex
compound: false
created_at: 2026-02-11T19:00:00Z
target_repos:
  - digitalmodel
commit:
spec_ref: specs/modules/wrk-129-orcaflex-analysis-reporting.md
related: [WRK-125, WRK-127, WRK-128, WRK-044, WRK-045, WRK-046]
blocked_by: []
synced_to: []
plan: inline
plan_reviewed: true
plan_approved: true
percent_complete: 5
brochure_status:
provider: codex
provider_alt:
tags: [reporting, orcaflex, html-reports, standardization, analysis-outputs, plotly]
---

# Standardize Analysis Reporting for Each OrcaFlex Structure Type

## What
Create a standardized reporting framework for OrcaFlex analysis outputs, with per-structure-type report templates. Each structure type (pipeline, riser, jumper, mooring, installation, vessel) gets a dedicated HTML report with consistent format, standard plots, summary tables, and pass/fail checks against design criteria.

## Why
- Currently no standardized output format — results are ad-hoc scripts or raw JSON/YAML
- Engineers need consistent, auditable reports for each analysis type
- Standard templates reduce post-processing effort and ensure nothing is missed
- HTML reports (Plotly) are the project convention — interactive, self-contained, shareable
- Enables automated QA: standard outputs mean standard validation checks

## Scope
1. **Define standard output schema per structure type** — what results does each analysis produce?
2. **Report templates** — HTML report per structure type with consistent layout
3. **Standard plots** — Plotly interactive charts for each result type (time histories, envelopes, utilization)
4. **Summary tables** — key results, design checks, pass/fail status
5. **Report generator API** — `generate_report(model, results, structure_type) → HTML`
6. **Integration with existing benchmark pipeline** — reports auto-generated after analysis

## Acceptance Criteria
- [ ] Standard output schema defined for at least 4 structure types (pipeline, riser, mooring, jumper)
- [ ] HTML report template for each structure type with consistent header, metadata, plots, tables
- [ ] Plotly interactive plots: time histories, statistical summaries, utilization envelopes, max/min tables
- [ ] Pass/fail design checks embedded in reports (e.g., tension > 0, utilization < 1.0)
- [ ] Report generator callable from scripts and integrated into benchmark pipeline
- [ ] Reports self-contained (single HTML file with embedded Plotly CDN)
- [ ] At least 2 example reports generated from existing benchmark models

## Plan

**Target**: `src/digitalmodel/solvers/orcaflex/reporting/` (new package)

### Existing Assets (reuse)
| Component | Path | Purpose |
|-----------|------|---------|
| Mooring report | `solvers/orcaflex/analysis/report_generator.py` (347 lines) | Markdown report pattern |
| Mooring models | `solvers/orcaflex/mooring_analysis/comprehensive_analysis/models.py` | Pydantic result models |
| Benchmark plotter | `hydrodynamics/diffraction/benchmark_plotter.py` | Plotly HTML template |
| Benchmark runner | `hydrodynamics/diffraction/benchmark_runner.py` | Orchestration (Config→Analysis→Report) |
| Analysis engine | `solvers/orcaflex/core/analysis_engine.py` | WorkflowResult dataclass |
| Configuration | `solvers/orcaflex/core/configuration.py` | AnalysisType enum |
| Visualization | `solvers/orcaflex/visualization.py` | Matplotlib force plots |

### Phase 1 — Report Data Schema
- Create `OrcaFlexReportData` Pydantic model per structure type
- Pipeline: effective tension, bending moment, von Mises utilization along arc length
- Riser: dynamic response envelopes, modal frequencies, fatigue damage distribution
- Mooring: pretension convergence, stiffness matrices, line group analysis
- Jumper: installation sequence states, touchdown analysis
- Common fields: model metadata, analysis type, load cases, time range

### Phase 2 — HTML Report Template
- Extract Plotly HTML pattern from `benchmark_plotter.py`
- Common layout: header (model name, analysis type, date), executive summary, per-section plots+tables
- Plotly conventions: CDN load, right margin 140px+, interactive legends
- Self-contained single HTML file

### Phase 3 — Per-Structure Report Generators
- `pipeline_report.py`: arc-length plots (tension, bending, utilization), max/min envelope tables, design check pass/fail
- `riser_report.py`: dynamic response statistics, modal summary, fatigue hotspots
- `mooring_report.py`: wrap existing markdown report into HTML + add Plotly plots
- `jumper_report.py`: installation sequence visualization, clearance checks

### Phase 4 — Report Generator API
- `generate_orcaflex_report(report_data: OrcaFlexReportData, output_path: Path) → Path`
- Auto-detect structure type from report_data → route to correct generator
- Integration with benchmark pipeline for auto-generation after analysis

### Phase 5 — Validation
- Generate 2 example reports from existing benchmark data
- Unit tests with mock OrcaFlexReportData (no OrcaFlex license needed)
- Target: 25+ tests

### Dependencies
- No OrcaFlex license for report generation (uses pre-extracted results)
- Plotly CDN for interactive HTML

---
*Source: reporting for each structure in the orcaflex module. standardize analysis outputs*

## Agentic AI Horizon

- Standardised analysis reporting for each OrcaFlex structure type is client-facing deliverable infrastructure — agents producing reports for clients depend on consistent report templates.
- Report standardisation is a design and domain decision; once templates are established, agents can generate compliant reports autonomously.
- **Disposition: invest now** — standardised report templates compound with every analysis run; building them now means all future agent-generated reports are client-ready from day one.
