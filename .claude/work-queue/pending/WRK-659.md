---
id: WRK-659
title: "test(workflow): sandbox multi-agent gate enforcement"
status: pending
route: C
priority: high
complexity: medium
compound: false
created_at: 2026-03-01T12:35:00Z
target_repos:
  - workspace-hub
commit:
spec_ref:
related:
  - WRK-658
blocked_by: []
synced_to: []
plan_reviewed: true
plan_approved: true
percent_complete: 0
brochure_status: n/a
computer: ace-linux-1
provider: claude
orchestrator: claude
cross_review: pending
plan_html_review_final_ref: assets/WRK-659/wrk-659-plan-review-final.html
resource_pack_ref: .claude/work-queue/assets/WRK-659/resource-pack.md
claim_routing_ref: .claude/work-queue/assets/WRK-659/claim-evidence.yaml
---
# test(workflow): Sandbox multi-agent gate enforcement

## Purpose

Establish the logging + validator guard end-to-end across Claude, Codex, and Gemini in a controlled sandbox WRK. Every agent run must:

1. Go through the `/work run` wrappers with logging entries for start/finish.
2. Present the final HTML with human-review confirmation.
3. Record full gate evidence (plan, cross-review, TDD, legal) under the WRK assets.
4. Let `verify-gate-evidence.py` validate the gates before claiming/closing.

## Acceptance Criteria
- [ ] Logs under `.claude/work-queue/logs/WRK-659-*.log` show start/close per agent.
- [ ] `verify-gate-evidence.py WRK-659` passes after cross-review/TDD/legal artifacts are in place.
- [ ] HTML button records human-review confirmation for the sandbox test.
- [ ] Claim evidence references the validator template and notes the NO_OUTPUT policy.
