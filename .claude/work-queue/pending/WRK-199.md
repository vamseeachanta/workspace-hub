---
id: WRK-199
title: "AI agent usage optimizer skill — maximize Claude/Codex/Gemini allocation per task"
status: pending
priority: medium
complexity: medium
compound: false
created_at: 2026-02-18T05:45:00Z
target_repos:
  - workspace-hub
target_module: ai-tools
commit:
spec_ref:
related:
  - WRK-118
  - WRK-172
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
provider: claude
provider_alt:
tags:
  - ai-usage
  - skill
  - optimization
---

# AI Agent Usage Optimizer Skill

## What
Build a `/usage-optimize` (or `/agent-alloc`) skill that assesses current quota state across Claude, Codex, and Gemini and recommends how to distribute upcoming work to maximize throughput without hitting rate limits. Covers both work-queue items (Route A/B/C) and individual ad-hoc tasks.

## Why
Quota limits are the primary bottleneck (Claude weekly % is the binding constraint per MEMORY.md). Currently there's no tool that combines quota state with task type to recommend optimal agent allocation. With three providers tracked (Claude, Codex, Gemini), the skill can steer heavy tasks to less-constrained providers and preserve Claude quota for architecture/orchestration.

## Acceptance Criteria
- [ ] Skill file created at `.claude/skills/ai/agent-usage-optimizer/SKILL.md`
- [ ] Reads live quota state from `~/.cache/agent-quota.json` (already populated by `query-quota.sh`)
- [ ] Given a task description, recommends primary + secondary provider and rationale
- [ ] For work-queue items, maps Route A/B/C to provider recommendations using existing `task_agents:` convention
- [ ] Shows quota headroom per provider (% remaining, hours to reset)
- [ ] Works without external calls when cache is fresh (<1h old)
- [ ] Integrates with `/work run` output — shown before plan gate

---
*Source: "add a ai agent usage skill to assess how usage of claude, codex and gemini can be maximized? for work items and individual tasks etc."*

## Agentic AI Horizon

- AI agent usage optimizer directly boosts ecosystem capability — optimising Claude/Codex/Gemini allocation per task type improves quality and cost across all sessions.
- Routing rules may be partially superseded if providers converge on capability parity by mid-2026; but cost optimisation will remain relevant as quota constraints persist.
- **Disposition: invest now, hold on over-engineering rules** — build the routing scaffolding; don't invest heavily in optimisation logic that may be obsolete by May; keep rules simple and revisable.
