---
id: WRK-618
title: "Fix Windows-illegal filenames blocking workspace-hub merge from Linux"
status: pending
priority: high
workstation: ace-linux-2
created: 2026-02-25
context: workspace-hub
blocked_by: []
---

## Problem

Two files with Windows-illegal/problematic names were committed to `origin/main`
by a Linux machine, blocking all Windows machines from merging or pulling:

**File 1 — colon in filename (NTFS-illegal):**
```
.claude/work-queue/pending/Exit code:
```

**File 2 — bare dash at repo root (shell redirect artifact):**
```
-
```
(empty file, likely from an accidental `git status > -` or similar)

Any `git merge`, `git pull`, or `git reset --hard` on Windows fails with:
```
error: unable to create file .claude/work-queue/pending/Exit code: : Invalid argument
Merge with strategy ort failed.
```

## Resolution (run from Linux machine)

```bash
cd /path/to/workspace-hub

# Remove both bad files
git rm ".claude/work-queue/pending/Exit code:"
git rm "-"

# Commit the removal
git commit -m "fix(wrk-618): remove Windows-illegal filenames from repo

Remove two files that block Windows machines from merging:
- .claude/work-queue/pending/Exit code:  (colon illegal on NTFS)
- -  (accidental shell redirect artifact at repo root)

Fixes WRK-618"

git push origin main
```

## Windows Branch Waiting for Merge

After the fix is pushed, the Windows machine has a feature branch
`chore/wrk-470-windows-merge-fix` ready to merge back:

```bash
# From Windows machine (D:\workspace-hub)
cd /d/workspace-hub
git checkout main
git pull --no-rebase origin main        # now succeeds
git merge chore/wrk-470-windows-merge-fix --no-edit
git push origin main
git branch -d chore/wrk-470-windows-merge-fix
git push origin --delete chore/wrk-470-windows-merge-fix
```

## Prevention

Add a pre-commit hook or CI check to reject commits containing:
- Filenames with `:`, `*`, `?`, `"`, `<`, `>`, `|` (Windows-illegal)
- Filenames that are just `-` or whitespace-only

## Acceptance Criteria

- [ ] Both bad files removed from `origin/main`
- [ ] Windows machine can `git pull --no-rebase origin main` without error
- [ ] Feature branch `chore/wrk-470-windows-merge-fix` merged and deleted
