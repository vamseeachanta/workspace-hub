---
id: WRK-044
title: Pipeline wall thickness calculations with parametric utilisation analysis
status: pending
priority: medium
complexity: complex
created_at: 2026-01-29T12:00:00Z
target_repos:
  - digitalmodel
commit:
spec_ref:
related:
  - WRK-032
blocked_by: []
synced_to: []
---

# Pipeline wall thickness calculations with parametric utilisation analysis

## What
Develop pipeline wall thickness calculation tools to perform parametric analysis across varying load conditions (bending, tension, pressure, combined) and produce pipe utilisation ratios for different wall thicknesses, diameters, and material grades.

## Why
Pipeline wall thickness selection is a fundamental design task. Parametric utilisation analysis across load combinations enables rapid design iteration, identification of governing load cases, and optimised wall thickness selection for cost-effective pipeline design.

## Acceptance Criteria
- [ ] Wall thickness calculations per relevant design code (e.g. DNV-ST-F101, API 1111)
- [ ] Parametric input: varying wall thickness, OD, material grade, SMYS
- [ ] Load parametrics: varying bending moments, tensions, internal/external pressure
- [ ] Combined loading utilisation checks (pressure, bending, tension interactions)
- [ ] Utilisation ratio output for each load combination and wall thickness
- [ ] Summary tables and/or graphs showing utilisation vs. load parameters
- [ ] Identification of governing load case per wall thickness
- [ ] Tests validating calculations against known reference results
- [ ] Documentation of design code references and assumptions

## Plan

**Target**: `src/digitalmodel/structural/pipeline/wall_thickness/`

### Existing Assets (reuse)
- `structural/` — stress analysis, code check patterns
- `solvers/orcaflex/` — pipeline models (diameter, wall thickness as input parameters)
- `fatigue/` — S-N curve data, material property patterns

### Phase 1 — Design Code Implementation
- `dnv_st_f101.py` — DNV-ST-F101 (Submarine Pipeline Systems):
  - Pressure containment (burst): Eq. 5.8 — hoop stress check
  - Local buckling (collapse): Eq. 5.13 — external pressure check
  - Combined loading: Eq. 5.16 — pressure + bending + tension interaction
  - Propagation buckling check
  - Material resistance factors (γm, γSC) per safety class
- `api_1111.py` — API 1111 (deferred to separate WRK item unless explicitly required by a project):
  - Burst, collapse, combined loading per API methodology
  - **Future Enhancement**: implement only if a project requirement specifies API 1111; otherwise defer

### Phase 2 — Parametric Engine
- `parametric_wt.py`:
  - Input: ranges of OD, wall thickness, SMYS, SMTS, design pressure, water depth
  - Load parametrics: bending moment range, tension range, pressure combinations
  - Generate Cartesian product of all parameter combinations
  - Compute utilisation ratio for each combination
  - Output: `UtilisationResult` with governing load case identification

### Phase 3 — Visualization & Output
- `wt_plots.py`:
  - Utilisation vs wall thickness curves (one per OD)
  - Utilisation heatmap: wall thickness × bending moment
  - Governing load case identification plot
  - Unity check summary table
- Export: Excel summary with all combinations + governing cases highlighted

### Phase 4 — Tests
- Validate against DNV-ST-F101 worked examples (DNV-RP-F101 has reference calculations); include at least one known benchmark case with expected numeric outputs
- Verify burst/collapse/combined loading against hand calculations
- Cite exact clause numbers for each equation and document assumptions (thin-wall, etc.)
- Define units consistently (SI) and default safety class factors per DNV Table 5-3
- Edge cases: zero bending, zero tension, atmospheric external pressure
- Parametric sweep: ensure monotonic utilisation increase with decreasing wall thickness

### Dependencies
- No external software needed (pure Python calculations)
- Material property data: SMYS/SMTS for common pipeline steels (X52, X60, X65, X70)

### Review Notes
- **Verdict**: Claude: APPROVE | Codex: MINOR | Gemini: APPROVE
- **Actions taken**:
  - Moved API 1111 to "Future Enhancement" — deferred unless project requires it
  - Added known benchmark case requirement with expected numeric outputs per Codex feedback
  - Added exact clause number citation and assumption documentation requirement
  - Added units (SI) and default safety class factors specification
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: perform pipeline wall thickness calculations to perform various parametric analysis to get various pipe utilizations for varying bending, tensions etc.*
