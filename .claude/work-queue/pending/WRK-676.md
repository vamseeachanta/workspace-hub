---
id: WRK-676
title: "test(review): automate plan gate confirmation"
status: pending
route: C
priority: high
complexity: medium
compound: false
created_at: 2026-03-02T17:20:00Z
target_repos:
  - workspace-hub
commit:
spec_ref:
related:
  - WRK-624
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 0
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
provider: claude
orchestrator: claude
cross_review: pending
---
# test(review): automate plan gate confirmation

## Problem

WRK-624 makes the plan gate a hard requirement, yet current orchestrator runs still rely on manual single-button confirmations and inline summaries. The plan gate becomes brittle when agency is distributed across Claude/Codex/Gemini, so we need automation that records human acceptance and cross-review evidence reliably.

## What

Automate the plan gate by embedding a standardized review confirmation section in every plan HTML, capturing the user decision (confirmed/changes requested) in both the plan asset and `claim-evidence.yaml`, and ensuring the `plan_workstations`/`execution_workstations` data is validated before promoting the plan. The output should be machine-readable so the validator picks up the stage pass.

## Plan

- Phase 1 — Template update: update the plan HTML template used by orchestrators to include a mandatory "review confirmation" block with timestamp, reviewer name, and decision (passed or follow-up).
- Phase 2 — Evidence hook: modify `claim-evidence.yaml` generation so it references the confirmation block and includes a digest of the plan assets; record the `plan_workstations`/`execution_workstations` validation there.
- Phase 3 — Validator scan: extend `scripts/work-queue/verify-gate-evidence.py` (or a companion script) to fail when the confirmation block isn’t present or `plan_workstations` is empty.

## Acceptance Criteria

- [ ] Every orchestrator plan HTML includes the confirmation block with timestamp + decision.
- [ ] `claim-evidence.yaml` cites the confirmation block and validated workstation data.
- [ ] Validator checks (new or existing) ensure the plan gate cannot pass without these entries.
- [ ] Summary HTML (WRK-656 comparison) references the automated confirmation path.

## Outcome

A consistent, automated plan gate confirmation will reduce manual review errors and let orchestrators show the gate pass in the evidence pack without ad hoc explanations.
