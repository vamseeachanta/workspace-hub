---
id: WRK-054
title: "worldenergydata test coverage improvement"
status: pending
priority: high
complexity: moderate
created_at: 2026-01-30T00:00:00Z
target_repos:
  - worldenergydata
commit:
spec_ref:
related: [WRK-051, WRK-052, WRK-053, WRK-055, WRK-056]
blocked_by: []
synced_to: []
tags: [testing, coverage, tdd, configuration]
---

# worldenergydata Test Coverage Improvement

## What
Improve test coverage for the worldenergydata repository from the current 22.6% to 80%+. Investigate why 3329 test files only yield 22.6% coverage -- likely a source path misconfiguration.

## Why
With 3329 test files but only 22.6% coverage, there is a strong indication that tests are not measuring coverage against the correct source paths. Fixing this configuration issue may reveal significantly higher actual coverage, and any remaining gaps can then be addressed efficiently.

## Current State
- **Coverage**: 22.6%
- **Statements**: 1945
- **Test files**: 3329
- **Suspected issue**: Source path misconfiguration in coverage settings

## Strategy
1. Investigate coverage configuration (source paths, omit patterns, include patterns)
2. Verify that coverage measures against the installed/editable package source
3. Fix any path misconfiguration to get accurate baseline
4. Identify actual coverage gaps after configuration fix
5. Write tests for uncovered code paths

## Acceptance Criteria
- [ ] Coverage configuration investigated and documented
- [ ] Source path misconfiguration identified and fixed
- [ ] Accurate baseline coverage measured after fix
- [ ] Tests written for remaining uncovered code paths
- [ ] Overall repository coverage reaches 80%+
- [ ] CI pipeline reports coverage on every PR

## Notes
- The ratio of 3329 tests to 22.6% coverage is anomalous -- configuration fix may dramatically improve the number
- Check pyproject.toml, setup.cfg, and .coveragerc for source path settings

---
*Source: test coverage audit across workspace-hub repositories*
