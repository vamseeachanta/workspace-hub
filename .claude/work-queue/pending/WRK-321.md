---
id: WRK-321
title: "OrcaWave modular HTML report (custom per example)"
status: complete
priority: medium
created: 2026-02-24
tags: [orcawave, reporting, html, plotly, digitalmodel]
percent_complete: 100
triage: continue
blocked_by: []
links:
  - WRK-317
  - WRK-319
---

## Background

No self-contained HTML report exists for OrcaWave analysis results. The OrcaFlex
reporting framework (WRK-129) covers time-domain; OrcaWave needs an equivalent
for frequency-domain diffraction outputs.

## Goal

Build a modular, config-driven HTML report generator for OrcaWave `.owr` results.
Each section is optional and controlled by a YAML config file.

## Sections (all optional)

1. Model summary (geometry, mesh stats, periods, headings)
2. RAO plots per DOF (interactive Plotly)
3. Added mass / damping matrices
4. Mean drift table + polar plot
5. Panel pressure contour (L05-style)
6. Multi-body coupling matrix (L03/L04-style)
7. QTF heatmap (L06-style)
8. QA pass/fail summary

## Entry Point

```python
from digitalmodel.orcawave.reporting import generate_orcawave_report
generate_orcawave_report(owr_path, config_yml, output_html)
```

## Module Structure

```
src/digitalmodel/orcawave/reporting/
  __init__.py
  builder.py          # Section orchestrator
  config.py           # Pydantic config schema
  sections/
    model_summary.py
    rao_plots.py
    hydro_matrices.py
    mean_drift.py
    panel_pressures.py
    multi_body.py
    qtf_heatmap.py
    qa_summary.py
docs/domains/orcawave/examples/report_config_template.yml
```

## Acceptance Criteria

- [x] All 8 section types implemented with toggle on/off
- [x] L01 example produces valid HTML report with all sections
- [x] Config YAML documented in examples folder
- [x] Tests cover builder + each section renderer

## Restart Plan

Selected route: Route B

### Route A (Fast Validation)

- Validate existing deliverables against current acceptance criteria
- Capture only deltas and evidence gaps
- Close if all checks pass

### Route B (Full Re-run)

- Re-execute all task steps end-to-end
- Refresh outputs and evidence artifacts
- Reassess acceptance criteria with explicit checklist updates

### Planned Steps (Selected)

1. Partial progress; finish remaining report sections/tests and re-triage.
2. Record evidence paths and command outputs in this WRK entry.
3. Update status and percent_complete only after verification is complete.

## Verification Checklist

- [x] Confirm required files/artifacts exist at expected paths
- [x] Run relevant commands/tests and record results
- [x] Verify each acceptance criterion with explicit evidence
- [x] Document residual risks or known gaps

## Cross-Review Placeholder

| Reviewer | Verdict (APPROVE|MINOR|MAJOR) | Notes | Date |
|----------|--------------------------------|-------|------|
| Codex | APPROVE | Acceptance evidence captured (tests + generated L01 report). | 2026-02-26 |
| Gemini | PENDING | | |
| Resolution | PENDING | MAJOR issues resolved before completion | |

## Execution Update (2026-02-26)

Evidence:
- Added dedicated tests: `digitalmodel/tests/orcawave/reporting/test_orcawave_reporting.py`.
- Test run: `uv run pytest tests/orcawave/reporting/test_orcawave_reporting.py -q` -> `3 passed`.
- Generated L01 report: `digitalmodel/docs/domains/orcawave/examples/L01_default_vessel/L01_orcawave_report.html` (size 114945 bytes).
- Verified all section headings in generated HTML: sections 1 through 8 present; QTF section rendered with expected "not available" skip card for L01.



