---
id: WRK-109
title: "Review, refine, and curate hooks — research best practices from existing workflows"
status: pending
priority: medium
complexity: medium
created_at: 2026-02-10T00:00:00Z
target_repos:
  - workspace-hub
  - worldenergydata
  - digitalmodel
commit:
spec_ref:
related: [WRK-050, WRK-089]
blocked_by: []
synced_to: []
tags: [hooks, automation, developer-experience, curation]
---

# Review, Refine, and Curate Hooks

## What
Audit all existing hooks (git hooks, Claude Code hooks, shell profile hooks), research what additional hooks would improve workflows, and curate a clean, documented set of hooks across the workspace.

## Why
Hooks have accumulated organically — some are useful, some are stale, some overlap. A systematic review ensures:
- **No wasted cycles**: remove hooks that fire unnecessarily or slow down operations
- **Coverage gaps filled**: identify workflow steps that should have hooks but don't
- **Consistency**: same patterns across repos (workspace-hub, worldenergydata, digitalmodel)
- **Discoverability**: developers know what hooks exist and what they do

## Scope

### a/ Audit Existing Hooks
- **Git hooks**: inventory all `.git/hooks/` and `.husky/` across repos (pre-commit, pre-push, commit-msg, etc.)
- **Claude Code hooks**: review `.claude/settings.json` hook definitions (PreToolUse, PostToolUse, etc.)
- **Shell hooks**: any `.bashrc` / `.zshrc` / PowerShell profile integrations
- **CI/CD hooks**: GitHub Actions workflows that act as hooks (on push, on PR, etc.)
- For each hook: document purpose, trigger, execution time, pass/fail rate, value assessment

### b/ Research Best Practices
- Review Claude Code hooks documentation for available hook points and patterns
- Research git hooks best practices (what successful open-source projects use)
- Study existing workspace workflows to identify automation opportunities:
  - Work queue operations (capture, process, archive)
  - Cross-review pipeline triggers
  - Legal compliance scans
  - Test execution gates
  - Submodule pointer sync
- Identify hooks that other AI agent CLIs (codex, gemini) support

### c/ Refine and Curate
- **Keep**: hooks that demonstrably save time or prevent errors
- **Remove**: stale, broken, or redundant hooks
- **Fix**: hooks that exist but have issues (broken paths, slow execution, false positives)
- **Add**: new hooks identified from research that fill workflow gaps
- **Standardize**: consistent hook patterns across repos (naming, error handling, logging)

### d/ Document Hook Catalog
- Create a single hook catalog document listing all active hooks
- Per hook: name, type (git/claude/shell/CI), trigger event, what it does, execution time, repo scope
- Include setup instructions for new machines (ties into WRK-050 Phase 4)

## Acceptance Criteria
- [ ] Complete inventory of all existing hooks across workspace
- [ ] Each hook assessed: keep / remove / fix / replace
- [ ] Research notes on best practices and opportunities
- [ ] Stale or broken hooks removed
- [ ] New hooks implemented where gaps identified
- [ ] Hook catalog document created
- [ ] All hooks tested and verified working
- [ ] Hooks execute within acceptable time limits (document per-hook targets)

## Technical Notes
- Claude Code hook types: `PreToolUse`, `PostToolUse`, `Notification`, `Stop`, `SubagentStop`
- Git hook types: `pre-commit`, `commit-msg`, `pre-push`, `post-merge`, `post-checkout`
- Known issue: pre-commit hook requires virtualenv (memory note — use `core.hooksPath=/dev/null` bypass)
- Hook path resolution: all hooks should use `$(dirname "$0")` relative paths (fixed 2026-02-08)
- Performance budget: git hooks <3s, Claude hooks <1s, shell startup hooks <2s

## Plan

*To be written — requires research phase first. Start with audit (a/), then research (b/) will inform what to curate (c/) and document (d/).*

---
*Source: user request — systematic review and curation of hooks across workspace for improved developer experience*
