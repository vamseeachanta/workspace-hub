---
id: WRK-271
title: "CP worked examples — end-to-end reference calculations for pipeline, ship, and offshore platform"
status: pending
priority: medium
complexity: medium
compound: false
created_at: 2026-02-20T00:00:00Z
target_repos:
  - digitalmodel
commit:
spec_ref:
related: [WRK-269, WRK-272, WRK-273]
blocked_by: [WRK-269, WRK-276]
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 0
brochure_status: n/a
provider: claude
provider_alt: codex
tags: [cathodic-protection, examples, documentation, tests]
group: CP-stream
---

# CP Worked Examples — End-to-End Reference Calculations

## What

Create 3 worked examples covering the primary CP use cases. Each example is:
1. A complete Python script that runs against the real `CathodicProtection` class
2. Documented with the standard used, inputs, expected outputs, and interpretation
3. Used as both a regression test and a client-facing capability demonstration

**Blocked by WRK-269** — must confirm which standard edition each example should use before
building the inputs. Once WRK-269 produces its go/no-go recommendation, proceed with the
editions confirmed to be covered.

## Examples Scope

### Example 1 — Submarine Pipeline (DNV-RP-F103)

Based on the CTR2 project Excel calc sheets already in-repo
(`docs/domains/cathodic_protection/cal/`). Use real project parameters (sanitized of
client identifiers per legal policy):
- 24" pipeline, offshore, bracelet anodes, aluminium alloy
- Confirm ABS vs DNV route based on WRK-269 edition recommendation
- Output: current demand, anode mass, anode count, spacing, design life check

### Example 2 — Ship Hull (ABS GN Ships 2018)

Based on the ABS test config already in `test_abs_cathodic_protection_calcs.py`:
- Long-flush anode geometry, aluminium, 5-year design life
- Expand to a complete worked example with interpretation of results
- Add a second variant: short design life vs long design life comparison

### Example 3 — Offshore Fixed Platform (DNV-RP-B401 or equivalent)

**This example depends on WRK-269.** The 2011 edition is in-repo. If the 2021 edition
has significant changes to the calculation methodology, this example should target the
edition we can validate against.
- Jacket structure, Al-Zn-In sacrificial anodes, 25-year design life
- If user can provide a reference calc from a past project → use as validation baseline
- If not → build from DNV-RP-B401 2011 with standard industry defaults

## Also: Expand Test Coverage

Alongside the worked examples, add tests that cover:
- DNV pipeline: multiple coating quality variants (good/average/poor)
- ABS ship: temperature sensitivity (10°C, 20°C, 30°C)
- ABS ship: design life sensitivity (5, 15, 25 years)
- Edge cases: zero coating breakdown, maximum utilization factor

Target: expand from 2 tests to 15+ covering both standard routes.

## Output Locations

```
digitalmodel/docs/domains/cathodic_protection/examples/
  example-01-pipeline-dnv-f103.md    # Narrative + code
  example-02-ship-abs-2018.md        # Narrative + code
  example-03-platform-dnv-b401.md    # Narrative + code

digitalmodel/tests/specialized/cathodic_protection/
  test_dnv_pipeline_variants.py      # DNV coating/depth sensitivity
  test_abs_ship_variants.py          # ABS temperature/life sensitivity
  test_platform_sacp.py              # Offshore platform (once WRK-269 confirms edition)
```

## Acceptance Criteria

- [ ] 3 worked examples, each producing correct output against real `CathodicProtection` code
- [ ] Each example includes: input parameters table, calculation steps, output interpretation
- [ ] Pipeline example validated against CTR2 Excel calc sheets (within 5% tolerance)
- [ ] ABS ship example validated against test_abs_cathodic_protection_calcs.py baseline
- [ ] 15+ total test functions across both test files
- [ ] All tests pass: `PYTHONPATH=src python3 -m pytest tests/specialized/cathodic_protection/ -v`
- [ ] Examples sanitized of client identifiers (legal scan pass)

## Note on User Input

If user has a reference calc for an offshore fixed platform (any past project), share it
before this item is processed — it will validate Example 3 and significantly strengthen
the offshore platform capability. Otherwise, Example 3 proceeds from standard defaults.

## Agentic AI Horizon

- Examples + tests are high-leverage: they validate the implementation AND serve as
  marketing proof points AND feed the brochure (WRK-273)
- **Disposition: invest now — blocked by WRK-269 go/no-go**

---
*Source: CP module review 2026-02-20 — 2 tests exist for 1,531 lines; no worked examples*
