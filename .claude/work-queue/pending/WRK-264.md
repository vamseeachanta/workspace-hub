---
id: WRK-264
title: Ensure full work-queue workflow parity between Claude and Codex CLI
status: pending
priority: low
complexity: medium
compound: false
created_at: 2026-02-20T00:00:00Z
target_repos:
  - workspace-hub
commit:
spec_ref:
related: []
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 0
brochure_status: n/a
---

# Ensure full work-queue workflow parity between Claude and Codex CLI

## What

Every feature of the `/work run` pipeline available to Claude should also be accessible
when Codex CLI is the orchestrator. The Codex 0.105.0 release (configurable multi-agent
depth) is a catalyst — it signals Codex now has the sub-agent capability needed to mirror
Claude's orchestration model.

Concretely, audit each stage of the work-queue workflow and confirm Codex can execute it:

| Stage | Claude mechanism | Codex equivalent needed |
|-------|-----------------|------------------------|
| Session init | `scripts/agents/session.sh init --provider claude` | `--provider codex` path fully wired |
| Plan gate | `EnterPlanMode` / inline plan | Codex plan prompt equivalent |
| Complexity routing (A/B/C) | Task tool spawns subagents | Codex multi-agent depth config |
| Cross-review | Inline + Codex + Gemini as reviewers | Codex as reviewer + as orchestrator both work |
| Execute subagents | `Task` tool with `subagent_type` | Codex equivalent spawn mechanism |
| Archive + hook | `archive-item.sh` | Same script, no provider lock-in |
| Skills access | `.claude/skills/` | `.codex/skills/` symlinks (WRK-200/201 done) |

## Why

The workspace hub is provider-agnostic by design. If Codex can orchestrate end-to-end it
doubles our execution capacity and provides a fallback when Claude quota is saturated.
Codex 0.105.0's configurable agent depth removes the last hard blocker.

## Acceptance Criteria

- [ ] Run `scripts/agents/session.sh init --provider codex` end-to-end without errors
- [ ] Confirm Codex can read and execute skills from `.codex/skills/` (via symlinks)
- [ ] Identify the Codex 0.105.0 config key for multi-agent depth and set safe workspace defaults
- [ ] Validate `scripts/agents/plan.sh --provider codex WRK-NNN` produces an approvable plan
- [ ] Validate `scripts/agents/execute.sh --provider codex WRK-NNN` runs a Route A item
- [ ] Validate `scripts/agents/review.sh WRK-NNN --all-providers` still works with Codex as orchestrator
- [ ] Document any gaps: features Claude supports that Codex cannot yet replicate, with workarounds
- [ ] Update `config/agents/model-registry.yaml` with Codex multi-agent depth defaults

## Agentic AI Horizon

- Provider parity is the strategic bet: when Claude quota is saturated, Codex picks up seamlessly
- Codex's new depth config aligns exactly with the workspace-hub compound loop model (plan→work→review→compound)
- Do the wiring now; agent self-selection of provider is the natural next step (park as future WRK)

## Deferral Note

**Do not process until ~2026-03-06** (2 weeks from capture). First establish a stable
Claude-only sync cycle, then revisit this item once that rhythm is proven.

---
*Source: Tweet @LLMJunky — "One line of config is about to change how you Codex" (Codex 0.105.0 configurable multi-agent depth). User clarification: goal is full workflow parity — all features available via Claude should also be accessible via Codex CLI.*
