---
id: WRK-670
title: "test(review): orchestrator gate run with Codex"
status: pending
route: C
priority: high
complexity: complex
compound: false
created_at: 2026-03-02T14:10:00Z
target_repos:
  - workspace-hub
commit:
spec_ref: specs/wrk/WRK-670/plan.md
related:
  - WRK-656
  - WRK-657
  - WRK-1000
blocked_by: []
synced_to: []
plan_reviewed: true
plan_approved: true
percent_complete: 100
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
provider: codex
orchestrator: codex
cross_review: done
plan_html_review_draft_ref: .claude/work-queue/assets/WRK-670/plan-html-review-draft.md
plan_html_review_final_ref: .claude/work-queue/assets/WRK-670/plan-html-review-final.md
html_output_ref: assets/WRK-670/review.html
claim_routing_ref: .claude/work-queue/assets/WRK-670/claim-evidence.yaml
---
# test(review): orchestrator gate run with Codex

## Problem

Codex has been a reviewer for WRK-657 but not yet validated as the orchestrator that enforces every WRK-624 stage. WRK-656’s orchestrator contract requires a Codex-managed run so we can compare whether it produces the same plan, review, TDD, legal, and validator artifacts as Claude.

## What

Reuse the WRK-657 plan/review artifacts and run `/work run` with Codex as the orchestrator. Capture plan HTML, cross-review outputs (including how Codex handles NO_OUTPUT), variation test results, legal scan, and the command output of `scripts/work-queue/verify-gate-evidence.py WRK-670`, keeping everything under `assets/WRK-670/`.

## Plan

### Phase 1 — Prepare artifacts

- duplicate or reference `assets/WRK-657/plan-html-review-final.md`, `review.html`, `variation-test-results.md`, and `claim-evidence.yaml` so the Codex prompt stays consistent.
- create `assets/WRK-670/` with placeholders for plan review, review summary, test results, legal scan, and claim-evidence data before executing the run.

### Phase 2 — Codex orchestrator execution

- submit `/work run WRK-670` with Codex as orchestrator while Claude and Gemini act as reviewers in the cross-review stage.
- collect stage logs (`.claude/work-queue/logs/WRK-670-*.log`) for start, plan, cross-review, and close.
- ensure the plan HTML embeds a human confirmation button/record; `review.html` should include per-reviewer verdicts, and `claim-evidence.yaml` must cite the artifacts and cross-review policy about NO_OUTPUT reruns.

### Phase 3 — Validation and reporting

- run `scripts/work-queue/verify-gate-evidence.py WRK-670` and save its output reference inside `assets/WRK-670/claim-evidence.yaml`.
- author a summary HTML (matching the Claude report) that explains why any stages (resource intelligence, user review, final review) were skipped or performed, along with direct links to the logs and artifacts.

## Acceptance Criteria

- [ ] Codex-run assets exist under `assets/WRK-670/`: plan HTML, review.html, variation-test-results.md, legal-scan.md, claim-evidence.yaml.
- [ ] Stage logs captured (`.claude/work-queue/logs/WRK-670-*.log`) for start/plan/cross-review/close.
- [ ] `verify-gate-evidence.py WRK-670` exits 0 referencing the claim evidence manifest.
- [ ] Summary HTML documents skipped/completed stages and records human confirmation.

## Evidence

- `assets/WRK-670/plan-html-review-final.md`
- `assets/WRK-670/review.html`
- `.claude/work-queue/logs/WRK-670-*.log`
- `scripts/work-queue/verify-gate-evidence.py WRK-670` output

## Outcome

Codex will have a documented orchestrator run that can be compared to Claude and Gemini when deciding who enforces WRK-656’s gate contract in the future.

## Rerun guidance

Repeat this run whenever WRK-624 or the gate tooling changes; make sure every iteration refreshes the artifacts, logs, and validator output so the timeline reflects the latest run.

## Output tracking

Store the stage logs, artifacts, and `claim-evidence.yaml` under `assets/WRK-670/` and `.claude/work-queue/logs/WRK-670-*.log`, and append a timestamped entry to the summary HTML describing each rerun (session id + completion time) so the evolution of the orchestrator runs is traceable.
