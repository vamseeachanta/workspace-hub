---
id: WRK-570
title: "feat(digitalmodel): port API 579 FFS MATLAB (GML/LML) to Python"
status: pending
priority: high
complexity: large
compound: false
created_at: 2026-02-25T00:00:00Z
target_repos:
  - digitalmodel
commit:
spec_ref:
related:
  - WRK-309
  - WRK-568
blocked_by:
  - WRK-568
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 0
brochure_status: n/a
computer: ace-linux-1
execution_workstations: [ace-linux-1]
plan_workstations: [ace-linux-1]
---

# feat(digitalmodel): Port API 579 FFS MATLAB to Python — GML and LML

## What

Port the API 579-1/ASME FFS-1 Fitness for Service MATLAB implementations
to Python in `digitalmodel/src/digitalmodel/structural/ffs/`.

## Source Files (in document index after WRK-568)

- `API579GML.m` — General Metal Loss; multiple project revisions (Rev0-Rev8, Live)
  at `/mnt/ace/docs/disciplines/drilling/projects/0168_python_support/.../API579GML.m`
- `API579LML.m` — Local Metal Loss; multiple revisions at same path + riser IM project
- `controlFileLML_01.m` — LML control/input file demonstrating usage

Multiple revision history (Rev0→Rev8→Live) provides regression test suite.

## What These Calculate

### GML (API 579-1 Part 4 — General Metal Loss)
- Remaining Strength Factor: RSF = t_meas / t_min (Level 1)
- Allowable RSF = 0.90 (default per API 579-1)
- Inputs: pipe OD, nominal WT, measured avg WT, SMYS, design pressure, temperature

### LML (API 579-1 Part 4/5 — Local Metal Loss)
- Critical Thickness Profile (CTP) method
- Point Thickness Reading (PTR) analysis
- Level 1 and Level 2 assessment routes

## Legal Note

API 579-1 is a public standard — algorithm freely reimplementable.
No client identifiers in ported code; cite API 579-1 clauses in docstrings.

## Target Module

```
digitalmodel/src/digitalmodel/structural/ffs/
├── __init__.py
├── gml.py   # General Metal Loss — Part 4
└── lml.py   # Local Metal Loss — Part 4/5
```

## Acceptance Criteria

- [ ] `gml.py` implemented; ≥5 unit tests for Level 1 GML assessment
- [ ] `lml.py` implemented; ≥5 unit tests for Level 1 LML (PTR/CTP)
- [ ] Outputs match MATLAB Rev8/Live reference for all test cases
- [ ] No client identifiers (legal scan pass)
- [ ] Docstrings cite API 579-1 clause numbers
- [ ] Cross-review via `scripts/review/cross-review.sh`
