---
id: WRK-140
title: Integrate gmsh meshing skill into digitalmodel and solver pipelines
status: pending
priority: medium
complexity: medium
compound: false
created_at: 2026-02-16T03:30:00Z
target_repos:
  - digitalmodel
  - workspace-hub
commit:
spec_ref:
related: [WRK-139]
blocked_by: []
synced_to: []
plan_reviewed: false
plan_approved: false
percent_complete: 85
brochure_status:
computer: ace-linux-2
provider: codex
provider_alt:
---

# Integrate gmsh Meshing Skill into digitalmodel and Solver Pipelines

## What
Create integration pathways so the gmsh meshing skill (WRK-139) is actively used by other programs in the workspace — specifically the digitalmodel diffraction/hydrodynamic analysis pipelines, AQWA runner, OrcaWave workflows, and BEMRosetta mesh conversion.

## Why
The gmsh skill (WRK-139) documents how to use gmsh standalone, but it needs to be wired into the actual analysis programs so users can generate meshes programmatically as part of end-to-end workflows (spec → mesh → solver → results).

## Scope

### Integration points to plan:
1. **digitalmodel mesh generation module** — Python API calls to gmsh for creating box barge, cylinder, and hull meshes from spec.yml geometry definitions
2. **AQWA runner** — gmsh → AQWA .DAT mesh conversion as a pre-processing step
3. **OrcaWave workflows** — gmsh → GDF export for OrcaWave diffraction input
4. **BEMRosetta pipeline** — gmsh MSH v2.2 → Nemoh/BEMRosetta mesh format conversion
5. **CLI entry point** — `digitalmodel mesh generate` command using gmsh backend
6. **Existing cad-mesh-generation skill** — cross-reference and delegate to gmsh-meshing for gmsh-specific operations

## Acceptance Criteria
- [x] Map all integration points between gmsh and existing solver pipelines
- [x] Design Python module interface for gmsh mesh generation from spec.yml
- [x] Plan AQWA .DAT export pathway (gmsh → panel data → AQWA input)
- [x] Plan OrcaWave GDF export pathway (gmsh → GDF → OrcaWave input)
- [x] Plan BEMRosetta MSH conversion pathway
- [ ] Define CLI commands for mesh generation workflows (`digitalmodel mesh generate`) (deferred)
- [ ] Document integration architecture in a plan/spec (deferred)

## Implementation Status (2026-02-24)

### Completed (85%)
- Fixed 3 pre-existing bugs in `solvers/gmsh_meshing/` (quality metrics, gmsh API compat)
- Created `hydrodynamics/diffraction/gmsh_mesh_builder.py` — full integration module with:
  - `GmshMeshSpec` pydantic model (box_barge / cylinder geometry definitions)
  - `GmshMeshBuilder.build()` — GDF (OrcaWave), DAT (AQWA), MSH v2.2 (BEMRosetta) export
  - Wetted surface extraction (excludes waterplane faces)
  - 41 tests (26 new + 15 existing) — all passing
- Legal scan: PASS

### Remaining (15% — deferred)
- `digitalmodel mesh generate` CLI subcommand in `hydrodynamics/diffraction/cli.py`
- Register `GmshMeshBuilder` in `hydrodynamics/diffraction/__init__.py` exports

---
*Source: user request to plan looping gmsh skill into other programs*

## Agentic AI Horizon

- Integrating the gmsh skill into digitalmodel's solver pipelines enables automated mesh generation for hydrodynamic and FEA workflows — direct capability multiplier.
- gmsh Python API integration is stable tooling; the integration work itself won't be superseded by AI; it enables AI-assisted mesh generation pipelines.
- **Disposition: invest now** — gmsh integration is infrastructure that unlocks CFD (WRK-047), GIS (WRK-020), and hull panel (WRK-106) workflows; build it now.
