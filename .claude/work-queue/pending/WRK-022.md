---
id: WRK-022
title: "US property valuation analysis using GIS \u2014 location, traffic, and spatial\
  \ factors"
status: pending
priority: medium
complexity: complex
created_at: 2026-01-29 00:00:00+00:00
target_repos:
- assethold
commit: null
spec_ref: null
related:
- WRK-020
- WRK-023
blocked_by: []
synced_to: []
provider: gemini
provider_alt: null
task_agents:
  phase_1: gemini
  phase_2: codex
  phase_3: gemini
  phase_4: codex
  phase_5: codex
  phase_6: codex
plan_reviewed: false
plan_approved: false
---

# US property valuation analysis using GIS and spatial factors

## What
Build a property valuation analysis tool for US properties that incorporates geographic location, road vehicle count (traffic volume), and other spatial factors to assess property value. Utilize GIS skills and tools (Google Maps, QGIS, public GIS data) to gather and analyze location-based attributes that influence property value.

Factors to consider:
- **Geographic location**: neighborhood, proximity to amenities, school districts, zoning
- **Traffic/vehicle counts**: road traffic volume from DOT data, highway proximity
- **Spatial factors**: flood zones, elevation, proximity to commercial centers, transit access
- **Market data**: comparable sales, tax assessments, listing prices

## Why
Property value is heavily influenced by location-specific factors that are best analyzed spatially. Combining traditional valuation inputs with GIS-derived spatial intelligence provides a more comprehensive and defensible property assessment.

## Acceptance Criteria
- [ ] Property lookup by address with geocoding
- [ ] GIS-based spatial attribute extraction for a given property:
  - Road vehicle count / traffic volume (DOT/state traffic count data)
  - Flood zone status (FEMA data)
  - School district and ratings
  - Proximity to amenities (commercial, transit, parks)
  - Zoning classification
- [ ] Integration with property market data (tax records, comparable sales where available)
- [ ] Valuation model incorporating spatial and market factors
- [ ] Visualization: property on map with overlaid spatial factors
- [ ] Comparable property analysis within configurable radius
- [ ] Report output with valuation estimate and supporting spatial analysis
- [ ] Document data sources, methodology, and limitations

## Plan

**Target**: `assethold/src/assethold/property/`

### Scope Limitation
Initial version limited to 3-5 supported counties with known web portals. National coverage requires per-county assessor integration which is out of scope. This is a spatial factor screening model, not a certified appraisal.

### Phase 1 — Geocoding & Property Lookup
- `geocoder.py`:
  - Address → (lat, lon) via Nominatim/OpenStreetMap (free, no API key)
  - County assessor web scraping for specific target counties (start with 3-5 counties with known web portals: e.g., Harris County TX, Los Angeles County CA, Cook County IL)
  - Tax assessment data from public records for supported counties
  - **Privacy/legal review**: verify data usage rights for each county source before scraping
- `property_model.py`:
  - `Property` dataclass: address, lat, lon, parcel_id, zoning, lot_size, building_sqft

### Phase 2 — Spatial Factor Extraction
- `spatial_factors.py`:
  - **Traffic volume**: State DOT traffic count data (AADT from public APIs/CSVs)
  - **Flood zone**: FEMA NFHL data via FEMA API or GeoJSON
  - **School districts**: NCES school boundary data
  - **Proximity scores**: distance to nearest commercial center, transit, parks (OpenStreetMap Overpass API)
  - **Zoning**: from parcel data or municipal GIS layers
- Each factor returns a normalized score (0-1) for the valuation model

### Phase 3 — Market Data Integration
- `market_data.py`:
  - Comparable sales lookup within configurable radius
  - Redfin public listing data (terms permitting) or manual comparable entry
  - County tax assessment data for supported counties
  - **Note**: Zillow API (Zestimate) was deprecated in 2021; MLS data requires paid API access. Automated comparable sales data requires paid API. Document this limitation clearly.
  - **Fallback**: when comps are absent, use county tax assessment value as baseline with spatial factor adjustments only

### Phase 4 — Valuation Model
- `valuation.py`:
  - Weighted factor model: base_value x (traffic_factor x school_factor x flood_factor x proximity_factor)
  - Comparable sales adjustment: median comp price +/- spatial factor adjustments
  - Output: `ValuationResult` with **estimated range** (not point estimate), confidence range, factor breakdown
  - **Caveat**: This is a spatial factor screening model, not a certified appraisal. Output labeled as "estimated range" not "valuation"

### Phase 5 — Visualization & Report
- `property_map.py`:
  - Folium map with property marker + spatial factor overlays (flood zones, traffic counts, comps)
- `valuation_report.py`:
  - Markdown/HTML report: property details, factor scores, comparable sales, valuation estimate
  - Factor decomposition chart (Plotly waterfall)

### Phase 6 — Tests
- Unit tests: geocoding, distance calculations, factor normalization
- Valuation model tests with known property + known factors
- Edge cases: rural properties (sparse comps), commercial vs residential

### External Dependencies
- Free APIs: Nominatim, OpenStreetMap, FEMA, state DOT data
- Optional: Google Maps API key
- **Removed**: Zillow API (deprecated 2021). Comparable sales require paid API access (Bridge Interactive, Redfin API) — manual entry as fallback
- No paid data sources required for base functionality (spatial factors only)

### Review Notes
- **Verdict**: Claude: MAJOR | Codex: MAJOR | Gemini: MINOR
- **Actions taken**:
  - Added Scope Limitation section: initial version limited to 3-5 supported counties
  - Replaced "county assessor APIs" with county web scraping for specific known portals
  - Removed Zillow API reference (deprecated 2021); replaced with Redfin/manual entry
  - Added fallback valuation path when comps are absent (tax assessment baseline)
  - Labeled output as "estimated range" not "valuation" — this is a screening model, not appraisal
  - Added privacy/legal review step for property data usage per Codex feedback
  - Removed "public MLS data" claim (MLS is not public)
  - Identified 3 specific starter counties (Harris TX, Los Angeles CA, Cook IL)
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: ability to analyze the value of a property in US based on its geological location, road vehicle count etc. Utilize gis skills as needed.*
