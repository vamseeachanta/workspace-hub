---
id: WRK-099
title: Run 3-way benchmark on Unit Box hull
status: pending
priority: medium
complexity: medium
created_at: 2026-02-05 07:00:00+00:00
updated_at: 2026-02-05 07:00:00+00:00
target_repos:
- digitalmodel
commit: null
spec_ref: specs/modules/mighty-gliding-lemur.md
related:
- WRK-031
- WRK-098
blocked_by: []
synced_to: []
provider: claude
plan_reviewed: false
plan_approved: false
---

# Run 3-Way Benchmark on Unit Box Hull

## What
Execute the full 3-way benchmark comparison (AQWA, OrcaWave, BEMRosetta) using the Unit Box hull as a validation case.

## Why
The Unit Box is the simplest geometry, analytically tractable, and fastest to run. Good for validating that all solver setups are correct before running more complex hulls.

## Acceptance Criteria
- [ ] All 3 solvers complete successfully
- [ ] Results converted to unified DiffractionResults format
- [ ] Benchmark comparison run via `BenchmarkRunner`
- [ ] Consensus level: expect FULL or MAJORITY (simple geometry)
- [ ] Output: JSON report, HTML report, overlay plots
- [ ] Document any solver-specific quirks encountered

## Plan

- **Step 1**: Verify solver availability (AQWA, OrcaWave, BEMRosetta) on target machine; verify license availability and configuration for AQWA and OrcaWave
- **Step 2**: Prepare Unit Box inputs: use existing `tests/hydrodynamics/bemrosetta/fixtures/sample_box.gdf`; create AQWA input by converting box geometry to AQWA panel format (manual or via BEMRosetta converter); create OrcaWave input (if OrcaWave accepts GDF, use directly; otherwise convert). Document exact solver input file generation for reproducibility. Matching params: 1m^3 box, 500kg, COG at (0,0,-0.25), water depth 50m, freq 0.1-2.0 rad/s.
- Validate mesh quality before running solvers
- **Step 3**: Run all 3 solvers using `BenchmarkRunner` framework
- **Step 4**: Compare RAOs, added mass, damping via `MultiSolverComparator`
- **Step 5**: Generate JSON/HTML reports and overlay plots. Store reports in `docs/benchmarks/unit_box/` within digitalmodel.
- **Step 6**: Document any solver-specific quirks. Define expected tolerance thresholds for solver agreement (e.g., <1% for RAOs). "FULL consensus" must be measurable via error metrics, not subjective.
- ~~Blocked by: WRK-098~~ (DONE — blocker cleared)

### Review Notes
- **Verdict**: Claude: MINOR | Codex: MINOR | Gemini: MINOR
- **Actions taken**:
  - Removed WRK-098 blocker (DONE — git history cleanup complete)
  - Expanded Step 2: documented solver-specific input format generation (AQWA panel format, OrcaWave GDF)
  - Added mesh quality validation step
  - Added tolerance thresholds for "FULL consensus" — must be measurable
  - Added report storage location (`docs/benchmarks/unit_box/`)
  - Added license verification per Gemini feedback
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

## Notes
- BLOCKED: Unit Box benchmark attempted but AQWA mesh input error prevented completion.

---
*Source: Phase 3 requirement for WRK-031 3-way benchmark*
