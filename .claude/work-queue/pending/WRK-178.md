---
id: WRK-178
title: 'Stop Hook: Data Provenance Snapshot'
status: pending
priority: medium
complexity: medium
compound: false
created_at: 2026-02-17 00:00:00+00:00
source: plan-magical-snuggling-melody
target_repos:
- workspace-hub
- worldenergydata
module: data
tags:
- session-lifecycle
- provenance
- reproducibility
- data-engineering
spec_ref: null
related:
- WRK-173
- WRK-097
blocked_by: []
synced_to: []
provider: codex
provider_alt: null
plan_reviewed: false
plan_approved: false
---

# WRK-178: Stop Hook — Data Provenance Snapshot

## What
At session end, snapshot which BSEE/metocean/cost data files were accessed (from session logs). Record data vintage, LFS status (stub vs materialized), row counts, and any transformations applied. Critical for reproducibility in engineering reports and class submissions.

## SME Discussion Required
- **Data Engineering**: What provenance metadata is needed for regulatory compliance?
- **Naval Architecture**: Which data sources need provenance tracking? (BSEE, metocean, rig fleet, cost)
- **All**: Should provenance be per-session or cumulative per-project?

## Phases
- [ ] Phase 1: Define provenance record schema
- [ ] Phase 2: Implement `hooks/data-provenance.sh` — parse session log for data file access
- [ ] Phase 3: Detect LFS stub vs materialized status, record row counts
- [ ] Phase 4: Test with BSEE production and metocean EVA sessions
