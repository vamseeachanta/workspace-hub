---
id: WRK-300
title: "workstations skill — evolve from registry to multi-machine work distribution"
status: archived
priority: medium
created: 2026-02-21
completed_at: 2026-02-22T00:00:00Z
tags: [workstations, multi-machine, work-distribution, skills]
---

## Goal

Evolve the `workstations` skill from a static registry into an active work-distribution
and task-routing skill that understands software availability per machine.

## Motivation

- ace-linux-2 works against ace-linux-1's workspace-hub (shared mount) — needs
  to know which WRK items are meant for it vs ace-linux-1
- acma-ansys05 is isolated (OrcaFlex/ANSYS license-locked, Windows) — needs a
  separate cron path and should not pull hub-level WRK items blindly
- WRK items already have `computer:` field but nothing enforces or routes based on it
- `comprehensive-learning` (WRK-299) needs machine-aware behavior from this skill

## Scope

### 1. Software capability map per machine

Extend the registry with a `programs:` list per machine:

```yaml
ace-linux-1:
  programs: [python, uv, git, claude-code, worldenergydata, digitalmodel]
  exclusive: []

ace-linux-2:
  programs: [python, uv, git, claude-code]
  exclusive: []
  shares_hub: ace-linux-1   # mounts ace-linux-1 workspace-hub

acma-ansys05:
  programs: [orcaflex, ansys, python, windows-office]
  exclusive: [orcaflex, ansys]  # license-locked here only
  isolated: true                 # does not share hub mount
  cron_variant: lightweight      # comprehensive-learning Phase 1 only
```

### 2. WRK routing rules

Given a new WRK item, recommend `computer:` based on:
- Required programs (if item mentions OrcaFlex → acma-ansys05)
- Current machine load (check `state/active-wrk`)
- Exclusivity constraints

### 3. Multi-machine WRK items

If a WRK item spans multiple machines (e.g. "run OrcaFlex on ansys05, post-process
on ace-linux-1"), allow `computer:` to be a list:
```yaml
computer: [acma-ansys05, ace-linux-1]
steps:
  - machine: acma-ansys05  # step 1
  - machine: ace-linux-1   # step 2
```

### 4. Session-start integration

At `/session-start`, read current machine hostname and show:
- WRK items assigned to this machine
- Items blocked waiting for another machine's output
- Handoff items ready to pick up

### 5. comprehensive-learning integration (WRK-299)

Export machine config for WRK-299 so it knows:
- Is this the primary hub machine? (run full pipeline)
- Is this a secondary sharing the hub? (skip Phase 5 dedup)
- Is this an isolated machine? (run lightweight variant)

## Acceptance Criteria

- [ ] `programs:` map added to workstations skill registry for all 5 machines
- [ ] Routing function: given task keywords → recommended `computer:` value
- [ ] Multi-machine WRK item format documented
- [ ] `/session-start` shows machine-filtered WRK items
- [ ] WRK-299 reads machine config from this skill
- [ ] acma-ansys05 cron variant documented

## Route

Route A — skill file update + session-start hook tweak
