---
id: WRK-217
title: 'Update ecosystem-health-check.sh — remove stale skill count threshold'
status: archived
priority: medium
complexity: simple
compound: false
created_at: 2026-02-19T00:00:00Z
target_repos:
  - workspace-hub
module: automation
tags:
  - ecosystem
  - hooks
  - skills
  - health-check
related:
  - WRK-205
  - WRK-214
blocked_by: []
synced_to: []
provider: claude
spec_ref: ''
plan_reviewed: false
plan_approved: true
percent_complete: 100
brochure_status: n/a
---
# WRK-217: Update ecosystem-health-check.sh — Remove Stale Skill Count Threshold

## What

Remove the hardcoded skill count threshold (350) and bloated-category threshold (50)
from `.claude/hooks/ecosystem-health-check.sh`. Replace with staleness-focused checks
that align with the improve SKILL.md v1.4.0 policy.

## Why

The improve SKILL.md v1.4.0 explicitly removed count-based thresholds:

> "A large, well-indexed skill library is not a problem — stale and unreferenced skills
> are. Staleness detection requires the knowledge graph (WRK-205)."

But `ecosystem-health-check.sh` still fires on count (line 29: `>350`) and category size
(line 38: `>50`), generating noisy signals every session. The `/improve` run on 2026-02-19
skipped both signals as outdated, noting the mismatch. The hook and the skill are out of sync.

## What to Change

**File**: `.claude/hooks/ecosystem-health-check.sh`

1. **Remove** the `active_skills > 350` block (lines 29–31) — replace with an informational
   count-only emit (no severity warn): just log the total for metrics, don't signal as a problem
2. **Remove** the bloated-category `count > 50` threshold (line 38) — replace with
   index-quality check: emit warn only when >20% of skills in a category are missing
   `capabilities:` frontmatter (proxy for staleness until WRK-205 graph exists)
3. **Add** a note comment referencing improve SKILL.md v1.4.0 policy so the next editor
   understands why count thresholds are absent

## Acceptance Criteria

- [ ] No warn signal emitted for skill count alone (442+ skills is fine)
- [ ] No warn signal emitted for category size alone
- [ ] Skill count still logged as info metric (not warn)
- [ ] Index quality check added (missing `capabilities:` frontmatter > 20% of category)
- [ ] Comment references improve SKILL.md v1.4.0 policy
- [ ] `/improve` run after change produces no spurious ecosystem-review signals

## Plan

Route A — simple. Two block removals + one replacement + one addition in a 97-line script.

*Awaiting plan approval.*

---
*Source: /improve session 2026-02-19 — signals skipped as outdated; mismatch between
ecosystem-health-check.sh thresholds and improve SKILL.md v1.4.0 policy flagged.*
