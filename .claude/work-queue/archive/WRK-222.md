---
id: WRK-222
title: "Pre-clear session snapshot — /save skill + save-snapshot.sh script"
status: archived
priority: medium
complexity: low
target_repos: [workspace-hub]
tags: [session-lifecycle, context-engineering, skills]
related: [WRK-205, WRK-187]
route: A
created: 2026-02-19
plan_approved: true
percent_complete: 100
---
# WRK-222: Pre-clear session snapshot — /save skill + save-snapshot.sh script

## Execution Brief

**Provider rationale**: Route A — small scope, single-file ops, inline plan, no cross-review required.

**Self-contained task**: Build a `/save` skill that captures a session snapshot before the user
runs the built-in `/clear` command. `/clear` cannot be intercepted by hooks, so the snapshot
must be user-initiated. The skill runs `save-snapshot.sh` (file-based state) then Claude
writes the `## Ideas / Notes` section (conversational context only Claude has).

**Done When**:
- [x] `.claude/hooks/session-memory/save-snapshot.sh` created and executable
- [x] `.claude/skills/workspace-hub/save/SKILL.md` created
- [x] `ensure-readiness.sh` surfaces snapshot when <48h old
- [x] `session-lifecycle.md` documents the `/save` → `/clear` pre-clear workflow
- [x] Running `/save` produces `.claude/state/session-snapshot.md` with correct WRK state
- [x] `## Ideas / Notes` section is present in snapshot (Claude-written)
- [x] Snapshot surfaced in next-session readiness report

**For User Review**: Verify snapshot output format is useful. Confirm readiness report message
is visible without being noisy.
