---
id: WRK-127
title: "Sanitize and categorize ideal spec.yml templates for OrcaFlex input across structure types"
status: archived
completed_at: 2026-02-11T00:00:00Z
priority: high
complexity: medium
compound: false
created_at: 2026-02-11T18:00:00Z
target_repos:
  - digitalmodel
commit: 2516b5e7
spec_ref: specs/modules/twinkling-roaming-graham.md
related: [WRK-032, WRK-064, WRK-128, WRK-121, WRK-125]
blocked_by: [WRK-121]
synced_to: []
plan: inline
plan_reviewed: true
plan_approved: true
percent_complete: 100
brochure_status:
tags: [spec-templates, orcaflex, yaml, reuse, structures, input-preparation]
---
# Sanitize and Categorize Ideal spec.yml Templates for OrcaFlex Input

## What
Create a clean, well-organized library of ideal spec.yml templates that can be used to prepare OrcaFlex input files for various structure types. Sanitize existing specs (remove ad-hoc values, inconsistent naming, undocumented fields), categorize by structure type, and establish a reusable template catalog for future analysis.

## Why
- Current spec files may contain ad-hoc values, inconsistent patterns, or undocumented fields
- A curated template library accelerates new analysis setup — start from a known-good template
- Categorization by structure type (vessel, mooring, pipeline, riser, etc.) makes it easy to find the right starting point
- Sanitized templates serve as documentation of what fields each structure type requires

## Acceptance Criteria
- [x] All existing spec files audited and cataloged (81 specs, 13 categories)
- [x] Templates sanitized (consistent naming, documented fields, no ad-hoc values)
- [x] Templates categorized by structure type (6 templates, 100/100 quality)
- [x] Template catalog organized in a discoverable directory (catalog.yaml)
- [x] Each template validated against OrcaFlex input generation (6/6 schema-valid)
- [ ] README with catalog overview and usage guide (skipped per plan — inline YAML comments serve as docs)

## Plan

**Target**: `docs/modules/orcaflex/library/templates/` (curated templates) + `docs/modules/orcaflex/library/templates/catalog.yaml`

### Existing Assets (reuse)
- `docs/modules/orcaflex/library/tier2_fast/` — 11 batches, 47 generic specs
- `docs/modules/orcaflex/library/tier2_fast/risers/` — 4 riser specs
- New s7 specs from WRK-121: ~14 groups (jumper, installation, mooring, training)
- `src/.../modular_generator/schema/` — ProjectInputSpec, GenericModel, RiserSpec schemas
- `src/.../modular_generator/extractor.py` — MonolithicExtractor

### Phase 1 — Audit All Existing Specs
- Walk all `spec.yml` under `docs/modules/orcaflex/` — expected ~70 files
- For each: validate schema, check field completeness, flag ad-hoc values
- Classify by structure type: pipeline, riser, jumper, mooring, installation, vessel, subsea, generic
- Output: `docs/modules/orcaflex/library/templates/audit_results.yaml`

### Phase 2 — Define Ideal Template Structure Per Category
- For each structure type, define the minimal required fields and recommended optional fields
- Pipeline: environment, line types (pipe + coating), route, seabed, vessel, stinger
- Riser: environment, line types (riser + buoyancy + ballast), connections (vessel + seabed), statics_step2
- Jumper: environment, line types (pipe + buoyancy + strake + connector), rigging chain, lift points
- Mooring: environment, line types (chain + wire + polyester), anchor positions, fairlead positions
- Installation: base model + step overrides (winch payouts, positions)
- Document field constraints, allowed values, units

### Phase 3 — Sanitize & Curate Templates
- Select best-of-breed spec per category (cleanest, most representative)
- Strip ad-hoc values → replace with clearly-marked placeholders (e.g., `__WATER_DEPTH_M__`) or engineering defaults with source citation
- "Sanitized" definition: no client references, no ad-hoc magic numbers without comments, all fields documented, consistent naming
- Standardize naming: consistent key names, section ordering, comment style
- Add inline documentation: `# Required: water depth in meters` style comments
- Version each template: `template_version: "1.0"`
- **Lifecycle**: Templates live in `library/templates/` as curated copies. Original raw specs in `library/model_library/` and `library/tier2_fast/` remain untouched as reference. Templates are the "start here" entry point.

### Phase 4 — Template Catalog
- `catalog.yaml`: list of all templates with metadata (category, description, complexity, source model)
- Directory structure: `templates/{category}/{template_name}/spec.yml`
- Each template directory includes: `spec.yml` + `README.md` (field guide)

### Phase 5 — Validation
- For each template: fill placeholders with representative values, run modular generator, load in OrcaFlex, statics convergence
- Confirm each template produces a valid, converging OrcaFlex model
- Record validation results in catalog

---
*Source: sanitize and categorize ideal spec.yml templates to prepare orcaflex input file for various structures for re-use for future analysis*
