---
id: WRK-102
title: "Add generic hull definition/data for all rigs in worldenergydata"
status: archived
priority: medium
complexity: medium
compound: false
created_at: 2026-02-08T12:00:00Z
completed_at: 2026-02-13T00:00:00Z
target_repos:
  - worldenergydata
commit: 22e66dd
spec_ref:
related: [WRK-095, WRK-043, WRK-104, WRK-115, WRK-135, WRK-137]
blocked_by: []
synced_to: []
percent_complete: 100
plan_workstations: [ace-linux-1]
execution_workstations: [ace-linux-1]
---

# Add Generic Hull Definition/Data for All Rigs

## What
Create a hull geometry data module in worldenergydata that provides generic hull definitions for all rigs in the rig fleet inventory. Each rig should have associated hull parameters (length, beam, draft, displacement, hull form type, etc.) accessible via a structured data loader.

## Why
The rig fleet inventory (WRK-095) captures operational metadata but lacks physical hull geometry data. Hull definitions are needed for downstream analysis (motions, mooring, structural) and connect the rig fleet to the parametric hull form analysis pipeline (WRK-043). Having generic hull data in worldenergydata establishes a single source of truth for vessel geometry.

## Acceptance Criteria
- [x] Hull data schema defined (dimensions, form coefficients, key geometric parameters) *(DrillingRigSchema extended with hull geometry fields in prior session)*
- [x] Hull form classification per rig (semi_sub, drillship, jackup, barge, spar) enabling RAO selection *(1,674/2,268 classified)*
- [x] Pontoon/column dimensions for semi-subs (length, width, height, column diameter, spacing) *(schema fields; population deferred to WRK-137 spec PDFs)*
- [x] Stability parameters (GM, VCG, block coefficient Cb, waterplane coefficient Cwp) *(schema fields; population deferred to WRK-137)*
- [x] Generic hull definitions for all rigs in the fleet inventory (2,187 from WRK-104) *(2,268 rigs: 1,674 with hull form, 1,659 with dimensions)*
- [x] Hull-to-RAO mapping key: hull_form_type + (LOA, beam, draft, displacement) → hull_library catalog entry *(HULL_LIBRARY_REF auto-generated, e.g. semi_sub_100m)*
- [x] Data loader that retrieves hull data by rig name or rig type *(HullDataLoader class)*
- [x] Binary/CSV storage format consistent with existing worldenergydata patterns *(Parquet + CSV in curated/)*
- [x] Integration with existing rig fleet inventory module and vessel_fleet curated data *(fusion pipeline integration)*
- [x] Cross-reference to digitalmodel hull_library catalog for diffraction analysis (WRK-115) *(HULL_LIBRARY_REF field)*
- [x] Unit tests for data loading and schema validation *(53 tests)*

## Results
- **1,674/2,268** rigs classified by hull form (594 non-vessel types excluded)
- **Hull form distribution**: 1,185 jackup, 315 semi_sub, 164 drillship, 10 barge
- **Dimension confidence**: 129 measured, 41 estimated (depth-refined), 1,475 generic
- **HULL_LIBRARY_REF**: 1,674 rigs with auto-generated catalog keys
- **New modules**: hull_form_mapper.py, hull_estimator.py, hull_loader.py (483 lines)
- **Tests**: 53 passing (21 mapper + 16 estimator + 11 loader + 5 hull_library_ref)
- **Sample data**: 5 rigs with public source citations
- **Fusion pipeline**: Hull enrichment integrated (runs after dedup automatically)

## Plan

**Target**: `src/worldenergydata/vessel_hull_models/rig_hulls/` (co-locate with existing `vessel_hull_models/` which has `geometry/`, `data/`, `visualization/`)

### Existing Assets (reuse)
- `bsee/data/models/rig_fleet.py` — RigFleet model (16 rigs from WAR)
- `bsee/data/schemas/rig_fleet.py` — Pydantic schema for rig data
- `bsee/data/loaders/rig_fleet/` — Binary data loader
- digitalmodel `hull_library/` — hull form library patterns

### Phase 1 — Hull Data Schema
- `hull_schema.py` — Pydantic model: length, beam, draft, depth, displacement, block_coefficient, waterplane_coefficient, hull_form_type (semi-sub, drillship, jackup, barge), GM, KG
- **Hull form classification**: Map each rig to a hull form type that corresponds to a hull_library catalog entry for RAO/diffraction analysis selection
- **Semi-sub specifics**: pontoon_length, pontoon_width, pontoon_height, column_diameter, column_spacing, column_count — critical for diffraction analysis mesh generation
- **Drillship specifics**: bulbous_bow, transom_type, bilge_radius — affects motion response
- **RAO mapping key**: `(hull_form_type, LOA_M, BEAM_M, DRAFT_M)` → nearest hull_library entry for RAO lookup (WRK-115)

### Phase 2 — Data Collection
- **Primary source**: WRK-104 curated fleet (2,187 rigs) already has LOA_M, BEAM_M, DRAFT_M, DISPLACEMENT_TONNES for many rigs
- **Enrichment**: WRK-135 (XLS historical, ~80 fields), WRK-137 (spec PDFs, detailed hull geometry)
- For rigs without hull dimensions: estimate from hull type averages with confidence levels
- **Note**: Clarkson data requires paid subscription (ClarksonSHIPNET). Free alternatives: operator fleet pages, Offshore Magazine rig database, public ABS/DNV class records.
- **Legal/data licensing check**: verify usage rights for each data source before population
- Map each rig in fleet inventory to hull type + approximate dimensions (with confidence levels)
- Provide a minimal sample dataset (3-5 rigs) with full citations as proof of concept
- Store as CSV in `data/modules/vessel_hull_models/csv/rig_hulls/`

### Phase 3 — Data Loader
- `hull_loader.py` — Query by rig name, rig type, or hull form
- Integration with existing rig fleet loader (join on rig name/ID)

### Phase 4 — Tests
- Schema validation tests
- Loader tests with sample data
- Integration test: rig fleet + hull geometry joined query

### Review Notes
- **Verdict**: Claude: MINOR | Codex: MAJOR | Gemini: APPROVE
- **Actions taken**:
  - Fixed target path from `bsee/data/models/hull_geometry/` to `vessel_hull_models/rig_hulls/` (co-locate with existing hull model infrastructure)
  - Replaced Clarkson/MarineTraffic reliance with free public sources (operator fleet pages, Offshore Magazine, public class records)
  - Added legal/data licensing check before population
  - Added confidence levels for approximate dimensions
  - Added minimal sample dataset (3-5 rigs) with citations as proof of concept per Codex feedback
  - Documented manual research effort estimate (60-70% data completeness)
  - Fixed data storage path to align with existing patterns
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: add to worldenergydata repo, a way to get hull generic definition/data for all rigs*
