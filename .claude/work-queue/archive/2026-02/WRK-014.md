---
id: WRK-014
title: HSE risk index — client-facing risk insights with risk scoring
status: archived
priority: medium
complexity: complex
created_at: 2026-01-29T00:00:00Z
target_repos:
  - worldenergydata
commit: ad28cb6
spec_ref:
related: [WRK-012, WRK-013]
blocked_by: [WRK-013]
synced_to: []
---
# HSE risk index — present client-facing risk insights with risk scoring

## What
Design and build a risk index framework that translates HSE incident analysis (WRK-013) into actionable risk scores for client presentation. The risk index should help clients understand the relative risk associated with different activities, locations, or operations based on historical incident data.

## Why
Raw incident data and frequency tables are not directly actionable for clients. A risk index provides an intuitive, comparable metric that enables informed decision-making about safety investments, operational planning, and risk mitigation priorities.

## Acceptance Criteria
- [x] Define risk index methodology (factors: frequency, severity, consequence, exposure)
- [x] Design risk scoring scale (e.g., 1-10, low/medium/high/critical)
- [x] Calculate risk index per activity/subactivity category
- [x] Calculate risk index per field, water depth band, geological era (slicer)
- [x] Present results in client-ready format (tables, charts, dashboards)
- [x] Include risk comparison across categories for prioritization
- [x] Document methodology transparently for client review
- [x] Include caveats and data limitations
- [x] Validate risk rankings against industry knowledge and common sense checks
- [x] Configurable weights via YAML config
- [x] Time-trend chart (annual rolling average)

## Plan

**Target**: `src/worldenergydata/hse/risk_index/` (co-located with existing `hse/` module which has acquirers, database, importers)

### Existing Assets (reuse)
- `analysis/intervention/` — activity aggregation, enrichment, insight generator
- `marine_safety/` — 290K+ incident records, correlation engine with fuzzy matching
- `ComprehensiveActivityAnalyzer` — activity categorization by type
- `EraClassifier` — geological era classification for field context
- `AllFieldsRunner` — field-level aggregation

### Phase 0 — Data Audit
- Audit BSEE incident schema to identify exactly which fields map to frequency, severity, and consequence factors
- Determine how exposure hours/well-years will be computed from available data; define fallback when exposure data is missing
- Define confidence level formula (data completeness, record length, variance)
- Check required fields in incident pipeline; document fallback when consequence factors are unavailable

### Phase 1 — Risk Index Methodology
- `risk_methodology.py` — Define composite risk score formula:
  - **Frequency factor**: incident count / exposure metric (well-years preferred; use active well count as proxy if manhours unavailable)
  - **Severity factor**: weighted by injury/fatality/spill volume from BSEE incident data
  - **Consequence factor**: environmental impact, equipment damage, production loss
  - **Exposure factor**: water depth category, well count, production volume
- Configurable weighting via YAML config
- Scale: 1-10 with descriptive bands (1-2 Low, 3-4 Moderate, 5-6 Elevated, 7-8 High, 9-10 Critical)

### Phase 2 — Risk Calculation Engine
- `risk_calculator.py` — Calculate risk index per:
  - Activity category (drilling, completion, intervention, production)
  - Field / area code
  - Water depth band (shallow <500ft, mid 500-5000ft, deep >5000ft)
  - Geological era / formation
- Output: `RiskIndex` dataclass with score, contributing factors, confidence level

### Phase 3 — Client-Facing Presentation
- `risk_dashboard.py` — Plotly charts:
  - Risk heatmap (activity × water depth)
  - Risk comparison bar chart across fields/categories
  - Risk trend over time (annual rolling average)
  - Risk factor decomposition (stacked bar)
- `risk_report.py` — Markdown/HTML report with methodology section, caveats, data limitations

### Phase 4 — Tests
- Unit tests: risk formula correctness with known inputs
- Validation: risk rankings with concrete test cases (e.g., "Given field A with 10 incidents and field B with 2 incidents over same period, field A risk score > field B risk score"; deep water > shallow, drilling > production)
- Edge cases: fields with zero incidents, single-incident fields, missing data

### Dependencies
- Blocked by WRK-013 (HSE incident analysis pipeline)
- Requires materialized BSEE incident/activity data

### Review Notes
- **Verdict**: Claude: MINOR | Codex: MINOR | Gemini: APPROVE
- **Actions taken**:
  - Fixed target path from `bsee/analysis/hse/risk_index/` to `hse/risk_index/` to co-locate with existing HSE module
  - Added Phase 0 data audit step to identify available BSEE fields for risk factors
  - Clarified exposure metric: use well-years as proxy when manhours unavailable
  - Replaced vague "match industry intuition" test with concrete test case assertions
  - Added confidence level formula and fallback handling per Codex feedback
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: for hse data insights, present to client the risks with a risk index to help*
