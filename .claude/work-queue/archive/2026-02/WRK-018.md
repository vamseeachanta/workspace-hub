---
id: WRK-018
title: Extend BSEE field data pipeline to other regulatory sources (RRC, Norway, Mexico,
  Brazil)
status: archived
priority: low
complexity: complex
created_at: 2026-01-29 00:00:00+00:00
target_repos:
- worldenergydata
commit: 08691ea
spec_ref: null
related:
- WRK-017
- WRK-019
blocked_by: []
synced_to: []
provider: claude
provider_alt: gemini
plan_reviewed: false
plan_approved: false
---
# Extend BSEE field data pipeline to other regulatory data sources

## What
Adapt the streamlined BSEE field data analysis pipeline (WRK-017) to work with equivalent data from other regulatory bodies and jurisdictions:
- **Texas Railroad Commission (RRC)**: onshore and state waters Texas
- **Norway (NPD/Sodir)**: Norwegian Continental Shelf
- **Mexico (CNH/SENER)**: Mexican offshore and onshore
- **Brazil (ANP)**: Brazilian pre-salt and conventional
- Other sources as identified

For each source, implement the same analysis domains: wellbore counts, well path data, casing program schematics, drilling/completion activities, and intervention activities — adapted to the data formats and fields available from each regulator.

## Why
The BSEE pipeline covers US federal offshore only. Extending to other jurisdictions provides a global view of field data, enables cross-regional benchmarking, and maximizes the value of the analysis framework by reusing the pipeline architecture across data sources.

## Acceptance Criteria
- [x] Inventory available data from each target source (RRC, NPD, CNH, ANP)
- [x] Map data fields from each source to the common pipeline schema
- [x] Implement data ingestion adapters per source
- [x] Wellbore, well path, casing, drilling, completion, intervention analysis for each source
- [x] Handle source-specific differences (naming conventions, units, data gaps)
- [x] Unified query interface: same input parameters work across all sources
- [x] Cross-source comparison capability (e.g., Gulf of Mexico vs. North Sea)
- [x] Document data availability and limitations per source
- [x] Validate outputs against known fields in each jurisdiction

## Implementation Notes (2026-02-16)

**Commit**: worldenergydata `08691ea`
**Package**: `src/worldenergydata/bsee/pipeline/adapters/` (10 source files, ~1,600 lines)
**Tests**: 189 unit tests across 6 test files (269 total pipeline), all passing

| Module | Lines | Tests | Description |
|--------|-------|-------|-------------|
| `common_schema.py` | 163 | 12 | AdapterInterface ABC, AdapterResult, DomainStatus, DataAvailability, SourceMetadata |
| `units.py` | 160 | 22 | SI unit conversions (length, volume, pressure, mass, BOE, DataFrame helper) |
| `data_availability.py` | 275 | — | Data availability matrix: 5 sources x 6 domains with detailed notes |
| `sodir_adapter.py` | 240 | 53 | Sodir adapter — FieldProcessor + WellboreProcessor → AdapterResult |
| `rrc_adapter.py` | 282 | 37 | Texas RRC adapter — CSV well/permit/production pipeline |
| `cnh_adapter.py` | 103 | 33* | Mexico CNH skeleton — documented gaps, ready for collector wiring |
| `anp_adapter.py` | 86 | 33* | Brazil ANP skeleton — no module yet, documented |
| `multi_source_query.py` | 134 | 32 | MultiSourceQuery — registry + dispatcher across adapters |
| `benchmarking.py` | 132 | 32 | CrossSourceBenchmark — cross-source comparison DataFrames |
| `__init__.py` | 36 | — | Package exports |

*CNH + ANP share test file (test_skeleton_adapters.py)

**Data availability findings**:
- Sodir: wellbore (available), drilling (partial), production (partial — totals only), casing/intervention (unavailable)
- RRC: wellbore/drilling/production (available), intervention (partial), casing/well_path (unavailable)
- CNH: drilling/production (partial — scraper infra exists but collectors are stubs), rest unavailable
- ANP: all 6 domains unavailable (no module exists)

## Plan

**Target**: `src/worldenergydata/bsee/pipeline/adapters/` (nested under WRK-017's pipeline directory; if pipeline is later generalized to be source-agnostic, refactor `bsee/pipeline/` to top-level `pipeline/` with `bsee/` as the first adapter)

### Phase 1 — Inventory Data Availability
- RRC (Texas): production data, completion reports (publicly available via RRC query system). Note: casing data and intervention data are not in standard public downloads; completion data is limited
- NPD/Sodir (Norway): FactPages API (already have `sodir/` module with forecasting). Full coverage expected across all 6 domains
- CNH (Mexico): public production data (Ronda/CNH portal). Note: well-level casing/completion data availability is uncertain
- ANP (Brazil): ANP open data portal (production, wells, concessions). Note: casing program details may not be publicly available
- **Data availability matrix**: For each source, produce a mapping of the 6 analysis domains (wellbore, well path, casing, drilling/completion, intervention, production) to available/partial/unavailable. Partial and unavailable domains return empty DataFrames with documented reasons

### Phase 2 — Common Schema
- `common_schema.py` — Unified field pipeline schema that maps to WRK-017 `FieldContext`
- Adapter interface: `def adapt(source_data) -> FieldContext`
- Handle source-specific units (metric vs imperial), naming conventions, data gaps
- **Canonical units**: Common schema uses SI units (meters, cubic meters, kilograms). Each adapter's `adapt()` method converts source units to SI on ingestion. Unit conversion functions live in `pipeline/units.py`

### Phase 3 — Per-Source Adapters
- `rrc_adapter.py` — Texas RRC data ingestion
- `sodir_adapter.py` — Wire existing sodir module into pipeline (already has data loaders)
- `cnh_adapter.py` — Mexico CNH data ingestion
- `anp_adapter.py` — Brazil ANP data ingestion

### Phase 4 — Cross-Source Analysis
- `multi_source_query.py` — Accepts field name + optional source filter, dispatches to matching adapter(s). Same input parameters work across all sources
- `benchmarking.py` — Computes comparable metrics (recovery factor, drilling efficiency, water depth distribution) across sources. Output: structured comparison DataFrame + Plotly visualization
- Cross-regional benchmarking (GoM vs North Sea vs Brazil pre-salt)

### Phase 5 — Testing
- Unit tests per adapter with fixture data
- Integration test: query Troll field (Sodir), a well-known RRC field, and validate output schema matches `FieldContext`
- Minimum 80% coverage on new adapter code

### Dependencies
- Blocked by WRK-017 (BSEE pipeline must be complete first as template)

### Review Notes

- **Verdict**: Claude: MINOR
- **Actions taken**:
  - Added per-source data availability notes to Phase 1 (RRC casing/intervention gaps, CNH/ANP uncertainty)
  - Added data availability matrix requirement to Phase 1 (6 domains mapped to available/partial/unavailable per source)
  - Added Phase 5 for testing: unit tests per adapter, integration tests with known fields, 80% coverage target
  - Fixed target path from `src/worldenergydata/pipeline/adapters/` to `src/worldenergydata/bsee/pipeline/adapters/` to align with WRK-017
  - Expanded Phase 4 with concrete deliverables: `multi_source_query.py` and `benchmarking.py`
  - Added canonical unit standard (SI) to Phase 2 with `pipeline/units.py` for conversion functions
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: based on bsee field data pipeline, implement the same pipelines for other data sources (rail road commission, norway, mexico, brazil etc.)*

## Agentic AI Horizon

- Multi-source regulatory data adapters are foundational infrastructure that agents will query for cross-regional analysis — high compounding value.
- Already marked done (commit 08691ea); this section is informational only — work is delivered.
- **Disposition: invest now** — delivered; the adapter pattern it established should be extended for new sources (WRK-196, WRK-197) which compound on this foundation.
