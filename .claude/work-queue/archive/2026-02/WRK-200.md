---
id: WRK-200
title: "Filesystem naming cleanup — eliminate duplicate/conflicting dirs across workspace-hub, digitalmodel, worldenergydata"
status: working
priority: high
complexity: complex
route: C
created: 2026-02-18
repos:
  - workspace-hub
  - digitalmodel
  - worldenergydata
tags: [naming, structure, cleanup, architecture]
plan_approved: true
plan_reviewed: true
phase_completed: phase_4_verify_and_document
status: done
provider: claude
task_agents:
  phase_1: gemini      # full inventory + dependency check (what points where)
  phase_2: claude      # decisions + migration plan per issue
  phase_3: codex       # execute safe renames/moves/deletes
  phase_4: claude      # verify symlinks/hooks still work, update docs
---

## Context

2026-02-18 structural audit found 20+ naming/duplication issues across three repos.
Goal: reduce friction for all AI agents — clear, unambiguous directories mean fewer
wrong-path assumptions.

## Issues by Repo

### workspace-hub root — CRITICAL

| Issue | Location | Problem |
|-------|----------|---------|
| Duplicate skills dir | `skills/` (root) | Only 2 items; canonical is `.claude/skills/` — root `skills/` causes confusion |
| Duplicate modules dir | `modules/` (root) | Also `docs/modules/` and submodule `worldenergydata/modules/` — 3 "modules" dirs |
| Misnamed dir | `coordination/` (root) | Contains `coverage.xml`, `pyproject.toml`, `src/`, `tests/` — looks like orphan Python project, NOT coordination |
| Orphan project dirs | `ruv-swarm/`, `flow-nexus/`, `monitoring-dashboard/`, `test-framework-integrations/` | Experimental dirs mixed with real submodule repos |
| Loose scripts at root | `check_collisions.py`, `check_duplicates.py`, `generate_manifests.py`, `generate_migration_lists.py`, `generate_reports.py` | Should live in `scripts/operations/` or `scripts/data/` |
| Capitalized dir | `Shared/` | Only uppercase dir; breaks kebab-case convention |
| Log file at root | `dryrun_debug.log` | Committed artifact; belongs in `logs/` or gitignored |

### .claude/ internal — MEDIUM

| Issue | Location | Problem |
|-------|----------|---------|
| agent-library vs agents vs skills | `.claude/agent-library/`, `.claude/agents/`, `.claude/skills/` | Three overlapping concepts; `agent-library/` duplicates domain structure of `skills/` |
| helpers vs scripts | `.claude/helpers/` | Shell scripts (.sh, .js) duplicating `scripts/` at root |
| Dual config dirs | `.claude/config/` + root `config/` | Both exist; unclear which is authoritative for what |
| Random slug files | `specs/modules/curious-foraging-tome.md` etc. | ~20 auto-generated nonsense names polluting specs |

### digitalmodel — MEDIUM

| Issue | Location | Problem |
|-------|----------|---------|
| 3 output dirs | `outputs/`, `results/`, `reports/` | Overlapping; no clear rule for what goes where |
| Windows path dir | `D:\workspace-hub\digitalmodel\docs\charts\phase2\ocimf` | Literal Windows path became a directory — should be deleted |
| Loose test files | `test_git_repo_analysis.py`, `test_git_repo_optimization.py` | Root-level tests; should be in `tests/` |
| Committed backup | `CLAUDE.md.backup-20251023-081047` | Build artifact in git |
| Orphan `memory/` | `memory/` | Non-standard; not `.claude/` memory |
| 3 AI state dirs | `.claude-flow/`, `.hive-mind/`, `.swarm/` | Three competing AI orchestration namespaces |

### worldenergydata — HIGH

| Issue | Location | Problem |
|-------|----------|---------|
| 4 output dirs | `output/`, `results/`, `reports/` + `test_output/` | Four output-type dirs, singular/plural inconsistent |
| 2 archive dirs | `archive/`, `backups/` | Both for old files; overlapping purpose |
| Root `modules/` | `modules/` | Conflicts with hub `modules/` and `docs/modules/` |
| Root `agents/` | `agents/` | Separate from `.claude/skills/`; competing structure |
| Repo name as dir | `frontierdeepwater/` | Another repo's name appearing inside worldenergydata |
| Committed backups | `CLAUDE.md.backup-*` | Should be gitignored |
| Loose files | `user_prompt.md`, `COVERAGE_ANALYSIS.txt`, `PHASE_1_TEST_DEVELOPMENT_PLAN.md`, `QUICK_START.md` | Docs at root; should be in `docs/` |
| Unusual hidden dirs | `.common/`, `.git-commands/`, `.github_workflows_backup/` | Non-standard; purpose unclear |

## Proposed Canonical Structure (Decision)

```
workspace-hub/                  ← hub root
  .claude/                      ← ALL Claude-specific config
    skills/                     ← CANONICAL skill source (symlinked to repos)
    commands/                   ← slash commands
    docs/                       ← internal process docs
    hooks/                      ← Claude hooks
    rules/                      ← coding/git/legal rules
    work-queue/                 ← work items (hub-central)
  config/                       ← project config (model-registry, behavior-contract)
  docs/                         ← human-readable documentation
  scripts/                      ← ALL automation scripts
    agents/                     ← work queue orchestration
    coordination/               ← repo sync, routing
    operations/                 ← compliance, maintenance
    data/                       ← data pipeline scripts
  specs/                        ← formal specs (wrk/, repos/, templates/)
  data/                         ← datasets (raw/, processed/, results/)
  reports/                      ← generated reports (gitignored or timestamped)
  logs/                         ← runtime logs (gitignored)
  <repo-submodules>/            ← all submodule repos (lowercase-kebab)

Each submodule repo/            ← repo root
  .claude/                      ← agent config (CLAUDE.md, skills/ symlinks only)
  src/                          ← source code
  tests/                        ← all tests (no loose test files at root)
  docs/                         ← repo-specific docs
  scripts/                      ← repo-specific scripts only
  data/                         ← repo input data
  reports/                      ← generated output (gitignored)
  specs/                        ← repo specs (gitignored; canonical in hub)
```

## What MUST NOT Change
- `.claude/skills/` symlink structure (symlinks from repos → hub)
- `scripts/agents/` internal structure (work queue pipeline)
- `config/agents/model-registry.yaml` path (referenced everywhere)
- `.claude/work-queue/` path (referenced by hooks and session scripts)

## Plan

### Phase 1 (gemini) — Full dependency map
- Find every script/hook/config that references the problem paths
- Map: what breaks if we rename X

### Phase 2 (claude) — Migration decisions
- Per issue: keep / rename / merge / delete / gitignore
- Draft sed/mv commands for each

### Phase 2b — Safe-immediate (DONE 2026-02-18, claude)
- Committed hub: `baf58e3` — 21 slug renames, helpers archived, test-framework-integrations archived,
  dryrun_debug.log deleted, data-analysis.yaml stale paths fixed, coordination/coverage.xml untracked
- Committed worldenergydata: `cf69e80` — agents→.claude/agents/domain/, backups deleted, loose docs moved

### Phase 3a — .claude-flow remnant purge (DONE 2026-02-18, claude)
Commits: assetutilities `1ecfc7c`, frontierdeepwater `581756e`, hub `a45682c`

- **Shell script** fixed: removed dead claude-flow blocks from `frontierdeepwater/modules/automation/update_ai_agents_daily.sh`
- **Dead command dirs** deleted (git rm) from assetutilities + frontierdeepwater: `hive-mind/`, `flow-nexus/`, `pair/`, `stream-chain/`, `training/`, `monitoring/`, `optimization/`, `swarm/`, `hooks/` (72 files each)
- **Path refs fixed**: `verify/start.md` and `truth/start.md` in both submodules — `.claude-flow/config.json` → `.claude/settings.json`, `.claude-flow/metrics/` → `.claude/metrics/`
- **workspace-hub-structure.md**: removed `.claude-flow/` from diagram and key directory list
- **digitalmodel/.hive-mind/**: deleted (was untracked, already gitignored)
- **digitalmodel docs**: stale automation docs left as-is (not runtime risk; see Phase 3b)

### Phase 3b — Hub root + digitalmodel docs (DONE 2026-02-18, parallel agents)
Commits: digitalmodel `7d766842c`, hub `64a322a` (docs), hub `ea05015` (skills)

**Hub root findings (revised):**
- `monitoring-dashboard/` — intentionally tracked (59-file Express/TypeScript+React app, committed in `c5ff77e`). NOT an orphan. No action.
- `Shared/` — does not exist on filesystem. Already gone.
- `coordination/` — active Python library (`pyproject.toml` pkg="coordination"), Pydantic schemas for workspace-hub YAML state files (work_queue.py, reflect_state.py, learnings.py). NOT an orphan. Keep as-is.
- `ruv-swarm/`, `flow-nexus/` — already deleted in WRK-201/202.

**Digitalmodel automation docs deprecation:**
- Added deprecation headers to 6 files in `digitalmodel/docs/modules/automation/`:
  WORKFLOW_CHECKPOINTS.md, WORKFLOW_CHECKPOINTS_QUICKSTART.md, WORKFLOW_CHECKPOINTS_README.md,
  INTELLIGENT_AGENT_SELECTION.md, MEMORY_LIFECYCLE.md, QUICK_START.md

**Still deferred (low priority, separate concern):**
- `.claude/agent-library/` — HIGH RISK, keep as-is
- `digitalmodel/` output dirs (outputs/, results/, reports/) — 100+ hardcoded refs
- `worldenergydata/` output dirs (output/, results/, reports/, test_output/)

### Agents → Skills conversion (DONE 2026-02-18, parallel agent)
Commit: worldenergydata `cada24d`, hub `ea05015`

Converted 3 agent-os domain agents to hub SKILL.md format:
- `drilling-expert/` → `.claude/skills/engineering/drilling/SKILL.md` — drilling ops, well control, hydraulics, BSEE
- `financial-analysis/` → `.claude/skills/engineering/financial-analysis/SKILL.md` — DCF, energy markets, ESG, VaR
- `oil-and-gas-expert/` → `.claude/skills/engineering/oil-and-gas/SKILL.md` — reservoir eng, production, offshore
Deleted 28 files from `worldenergydata/.claude/agents/domain/` (all agent.yaml framework config discarded).
Similar candidates in `aceengineer-admin/.claude/agents/registry.yaml` (aqwa, orcaflex agents) — deferred.

### Phase 4 (claude) — Verify + document (DONE 2026-02-18)
- Symlinks verified: `.codex/skills` → `../.claude/skills`, `.gemini/skills` → `../.claude/skills` ✓
- Hook ecosystem-health-check: 437 active skills, 30 archived, no warnings ✓
- Gitignore lib negations intact: `!scripts/agents/lib/`, `!scripts/coordination/routing/lib/`, `!scripts/improve/lib/` ✓
- Canonical structure doc written: `.claude/docs/workspace-structure.md` ✓
- 26 specs/modules slug files renamed to meaningful names (commit `14e70ea`) ✓

**Final deferred items (low priority, separate WRK items if needed):**
- `digitalmodel/outputs/` + `worldenergydata/results/` — have tracked source files; no gitignore change needed
- `aceengineer-admin/.claude/agents/` — 76 generic framework agents, no domain knowledge to convert
- `digitalmodel/docs/modules/` rename (WRK-204, 9,328 files) — separate item
- `.claude/agent-library/` — HIGH RISK, keep as-is indefinitely
