---
id: WRK-186
title: 'Context budget: trim rules/ to under 16KB'
status: done
priority: high
complexity: simple
created_at: 2026-02-17 00:00:00+00:00
source: WRK-184-followup
target_repos:
- workspace-hub
module: automation
tags:
- context-budget
- rules
- readiness
related:
- WRK-184
blocked_by: []
synced_to: []
provider: claude
spec_ref: ''
plan_reviewed: false
plan_approved: false
---

# WRK-186: Context Budget — Trim rules/ to Under 16KB

## What
After WRK-184 trimming, total auto-loaded context is 19,214 bytes (117% of 16KB budget). Need to cut 2,830 more bytes to pass readiness check R5.

## Current Breakdown
| File | Bytes | Status |
|------|-------|--------|
| CLAUDE.md | 902 | OK |
| rules/patterns.md | 3,510 | Target — extract more to docs/ |
| rules/testing.md | 2,651 | Target — extract code examples |
| rules/security.md | 2,312 | Keep |
| rules/legal-compliance.md | 2,189 | Already trimmed |
| rules/coding-style.md | 1,840 | Keep |
| rules/git-workflow.md | 1,507 | Already trimmed |
| rules/README.md | 162 | Already minimized |
| MEMORY.md | 4,141 | OK |
| **Total** | **19,214** | **Need: <16,384** |

## Strategy
1. patterns.md (3,510 → ~2,000): Remove SOLID bullet points to docs/, condense Prohibited Patterns section
2. testing.md (2,651 → ~1,800): Extract Arrange-Act-Assert example and test naming examples to docs/
3. Alternatively: consolidate coding-style.md + testing.md into one file, security.md + legal-compliance.md into one

## Acceptance Criteria
- [ ] Total auto-loaded context < 16,384 bytes
- [ ] `ensure-readiness.sh` shows no R5 warning
- [ ] No rule content lost — all extracted to docs/ reference files
- [ ] Cross-references from rules to docs are accurate
