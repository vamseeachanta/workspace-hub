---
id: WRK-142
title: M-T report reorganization — executive summary first, inputs last
status: pending
priority: medium
complexity: medium
created_at: 2026-02-15T12:00:00Z
target_repos:
  - digitalmodel
commit:
spec_ref:
related:
  - WRK-044
blocked_by: []
synced_to: []
---

# M-T report reorganization — executive summary first, inputs last

## What
Reorganize the API RP 1111 M-T interaction HTML report so that results and actionable information appear first, with input data moved to the end. Add a new Executive Summary section at the top with PASS/FAIL verdict, governing check, and margin percentages.

## Why
Structural engineers want results first — they need to quickly see PASS/FAIL and the governing check before diving into details. The current report leads with input data, which is reference material that should be at the end.

## Context
This is a follow-up from WRK-044 session. The M-T interaction report with capacity limits, envelopes, pressure sensitivity, contour chart, and key points is already implemented and committed.

### Research findings (from structural engineer UX research subagent):
- Engineers scan for PASS/FAIL first, then governing check, then margin
- Input data is reference — belongs at the end
- Add margin % column to Key Points table: `margin = (1 - util) × 100`

### Current section order
```
Section 1: Input Data
Section 2: Pressure-Only Checks
Section 3: Capacity Limits by Operating Condition
Section 3a: Pressure Sensitivity
Section 4: Combined Loading (Von Mises Contour)
Section 5: Allowable Bending Envelope (+ data table)
Section 6: Key Points Summary
```

### Target section order
```
Section 0: Executive Summary (NEW — PASS/FAIL, governing check, margin %, action items)
Section 1: Pressure-Only Checks
Section 2: Capacity Limits by Operating Condition
Section 2a: Pressure Sensitivity
Section 3: Combined Loading (Von Mises Contour)
Section 4: Allowable Bending Envelope
Section 5: Key Points Summary (+ margin % column)
Section 6: Input Data (moved from top)
```

## Acceptance Criteria
- [ ] Executive Summary section at top with PASS/FAIL verdict, governing check name, governing utilisation, margin %
- [ ] Input Data section moved to end (Section 6)
- [ ] All section numbers renumbered accordingly
- [ ] Margin % column added to Key Points table: `(1 - util) × 100`
- [ ] Existing tests still pass (section text checks use heading text, not numbers)
- [ ] Report regenerated to `specs/modules/wrk-044-api-rp1111-mt-report.html`

## Key File
- `src/digitalmodel/structural/analysis/wall_thickness_mt_report.py` — `_build_html()` function (~line 794-1225)

## Plan
Modify `_build_html()` in `wall_thickness_mt_report.py`:
1. Add Executive Summary card at top (Section 0) — overall PASS/FAIL, governing check, utilisation, margin
2. Move Input Data HTML block to after Key Points (renumber as Section 6)
3. Renumber all sections: Pressure→1, CapLimits→2, PressureSens→2a, Contour→3, Envelope→4, KeyPoints→5, Input→6
4. Add margin % column to key_points table: `margin = max(0, (1 - util) * 100)`
5. Update `_point_row()` to include margin field
6. Run tests, regenerate report

---
*Source: WRK-044 session — user requested "implement the report reorganization" based on structural engineer UX research*
