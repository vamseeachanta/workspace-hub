---
id: WRK-056
title: "aceengineer-admin test coverage improvement"
status: archived
priority: medium
complexity: medium
created_at: 2026-01-30T00:00:00Z
target_repos:
  - aceengineer-admin
commit:
spec_ref:
related: [WRK-051, WRK-052, WRK-053, WRK-054, WRK-055]
blocked_by: []
synced_to: []
tags: [testing, coverage, tdd, build-fix]
---
# aceengineer-admin Test Coverage Improvement

## What
Fix the broken build, measure baseline coverage, and improve test coverage to 80%+ for the aceengineer-admin repository. The build is currently broken due to a missing README.md file, and 1154 tests exist but coverage is unknown.

## Why
A broken build prevents any CI/CD operations and blocks all development. Once the build is fixed, the existing 1154 tests need to be validated and coverage gaps filled to ensure code quality.

## Current State
- **Coverage**: Unknown (build broken)
- **Build issue**: Missing README.md causes build failure
- **Test files**: 1154 (existing but unvalidated)
- **Baseline**: Cannot be measured until build is fixed

## Strategy
1. Fix the missing README.md build issue
2. Run existing 1154 tests and verify they pass
3. Measure baseline coverage
4. Identify coverage gaps
5. Write tests to fill gaps and reach 80%+ target

## Acceptance Criteria
- [ ] README.md build issue fixed
- [ ] Build succeeds without errors
- [ ] All 1154 existing tests pass
- [ ] Baseline coverage measured and documented
- [ ] Coverage gaps identified and prioritized
- [ ] Tests written for uncovered code paths
- [ ] Overall repository coverage reaches 80%+
- [ ] CI pipeline reports coverage on every PR

## Notes
- Fix the build first -- this unblocks everything else
- The 1154 existing tests may already provide decent coverage once the build is fixed
- Prioritize understanding existing test quality before writing new tests

## Plan

**Target**: `aceengineer-admin/`

### Phase 0 — Determine Package Name
- Read `pyproject.toml` or `setup.cfg` to determine actual package name (currently uncertain)
- Define coverage tooling file locations to avoid inconsistent package name references

### Phase 1 — Fix Build
- Run `pip install -e .` in aceengineer-admin, diagnose the failure root cause (likely a missing file referenced in pyproject.toml/setup.cfg — not necessarily README.md)
- Fix the root cause based on diagnosis
- Verify build succeeds: `python -m build` or `pip install -e .`

### Phase 2 — Validate Existing Tests
- Run a quick test subset first to validate environment
- Run 1,154 existing tests: `python3 -m pytest -v --tb=short`
- Categorize: passing, failing, error, skip
- Triage failing tests: environment issues vs code bugs
- Categorize modules: (a) testable business logic, (b) CLI scripts requiring integration tests, (c) operational scripts not suitable for unit testing
- Fix any import or path issues

### Phase 3 — Measure Baseline & Fill Gaps
- Run with `--cov=aceengineer_admin` (or whatever the package name is)
- Document baseline coverage
- Write tests for uncovered critical paths (admin workflows, hardware scripts, contract management)

### Phase 4 — CI Integration
- Coverage reporting configuration
- Minimum threshold enforcement

### Review Notes
- **Verdict**: Claude: MINOR | Codex: MINOR | Gemini: APPROVE
- **Actions taken**:
  - Added Phase 0 to determine actual package name from pyproject.toml/setup.cfg
  - Replaced "Create missing README.md" with proper diagnosis step (root cause may not be README)
  - Added quick test subset validation before full run
  - Added module categorization step: testable logic vs CLI vs operational scripts
  - Added failing test triage: environment vs code
  - Added coverage tooling file location documentation
- *Cross-reviewed: 2026-02-09*

*Approved by user: 2026-02-09*

---
*Source: test coverage audit across workspace-hub repositories*
