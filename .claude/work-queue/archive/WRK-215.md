---
id: WRK-215
title: 'Graph-aware skill discovery and enhancement — extend /improve with proactive gap analysis'
status: archived
completed_at: 2026-02-19T00:00:00Z
percent_complete: 100
priority: medium
complexity: simple
compound: false
created_at: 2026-02-19T00:00:00Z
target_repos:
  - workspace-hub
module: automation
tags:
  - skills
  - knowledge-management
  - improve
  - discovery
  - gap-analysis
related:
  - WRK-205
  - WRK-207
blocked_by:
  - WRK-205
synced_to: []
provider: claude
spec_ref: ''
plan_reviewed: false
plan_approved: true
percent_complete: 0
brochure_status: n/a
plan_workstations: [ace-linux-1]
execution_workstations: [ace-linux-1]
---

# WRK-215: Graph-Aware Skill Discovery and Enhancement

## What

Extend `/improve` Phase 3 (Ecosystem Review) with a **proactive discovery arm**
that uses the WRK-205 knowledge graph to actively seek missing skills and surface
existing skills that need enrichment — rather than waiting for session signals alone.

Current `/improve` is reactive: session signals → skill actions.
This adds proactive: graph + WRK history → gap list → skill creation/enhancement queue.

## Why

With 472 skills across 16 domains and a growing WRK history (200+ items), there
is enough signal in the corpus itself to identify gaps without needing a human to
notice them first. WRK-205 delivers the graph and category indexes that make this
systematic rather than ad-hoc.

Without this, skill discovery depends entirely on a human remembering to create a
skill when encountering a gap mid-session. With this, every `/improve` run at
session end can surface 2-3 high-priority gaps from the corpus automatically.

## Scope

### New discovery checks added to `/improve` Phase 3

**1. Broken `see_also:` / `requires:` references** (lightweight — run every session)
- Scan all skill frontmatter for `see_also:` and `requires:` values
- For each reference: check that the target SKILL.md exists
- Broken reference = skill gap → emit as skill candidate to
  `.claude/state/pending-reviews/skill-candidates.jsonl`
- Only emit each gap once per week (dedup by path + date)

**2. WRK-domain coverage check** (weekly — triggered by `/reflect`)
- For each active WRK item: extract its `tags:` and `module:`
- Cross-reference against existing skill domains
- WRK items with tags that have no matching skill domain = gap signal
- Output: ranked list of "domain has N WRK items but 0-1 skills"

**3. Enhancement priority queue** (weekly — triggered by `/reflect`)
After WRK-205 delivers `last_used` timestamps in frontmatter:
- Skills with empty `capabilities:` AND `last_used` within 30 days = high-priority
  stub (used recently but still skeleton)
- Skills referenced in 3+ other skills' `see_also:` but have thin content = hub skills,
  enrich first
- Output: top-5 enhancement candidates added to
  `.claude/state/pending-reviews/skill-candidates.jsonl`

**4. Domain saturation heatmap** (monthly, on-demand via `/improve --scope skills --audit`)
- Count skills per category (using WRK-205 category indexes)
- Count WRK items per domain (from work-queue metadata)
- Ratio: WRK-items-per-skill per domain → low ratio = under-skilled domain
- Output: printed summary + flagged domains in ecosystem review report

### Cadence table

| Check | Trigger | Scope |
|-------|---------|-------|
| Broken `see_also:`/`requires:` refs | Every `/improve` run (session end) | All SKILL.md frontmatter |
| WRK-domain coverage | Weekly `/reflect` run | Active WRK items × skill domains |
| Enhancement priority queue | Weekly `/reflect` run | last_used + see_also frequency |
| Domain saturation heatmap | `/improve --scope skills --audit` (on-demand) | Full corpus |

### Prerequisite

All checks gated on `SKILLS_GRAPH.yaml` existing at `.claude/skills/`.
Skip silently if absent (WRK-205 not yet complete). Log: "Skill discovery
deferred — run WRK-205 first."

## Acceptance Criteria

- [ ] `/improve` Phase 3 includes broken-reference scan (runs every session after WRK-205)
- [ ] Weekly WRK-domain coverage check runs in `/reflect` and emits skill candidates
- [ ] Enhancement priority queue outputs top-5 candidates to `skill-candidates.jsonl`
- [ ] `/improve --scope skills --audit` prints domain saturation heatmap
- [ ] First full audit run identifies at least 5 actionable gaps or enhancement candidates
- [ ] All checks skip gracefully when `SKILLS_GRAPH.yaml` absent

## Plan

Route A — extend existing skill files only. No new infrastructure; builds on
WRK-205 graph as data source.

**Step 1** — Update `/improve` SKILL.md Phase 3 "Knowledge graph maintenance" section:
- Add broken `see_also:`/`requires:` reference scan
- Add `--audit` mode description
- Note cadence table

**Step 2** — Update `/reflect` SKILL.md (or linked docs):
- Add weekly WRK-domain coverage check to reflect workflow
- Add enhancement priority queue step after skill staleness check

**Step 3** — Smoke test (manual, first session after WRK-205 completes):
- Run `/improve` — verify broken-ref scan executes and emits to skill-candidates.jsonl
- Run `/improve --scope skills --audit` — verify domain heatmap prints

No cross-review required (Route A, skill file edits only).

## Execution Brief

### Provider
- **Executor**: Claude Sonnet — skill file edits, two files only

### Task for Executor
Edit two SKILL.md files:
1. `.claude/skills/workspace-hub/improve/SKILL.md` — extend Phase 3 with 4 discovery checks
   and `--audit` mode. Cadence table. Prerequisite gate.
2. `.claude/skills/workspace-hub/reflect/SKILL.md` (if exists) — add WRK-domain coverage
   and enhancement priority queue to weekly reflection workflow.

No new files. No scripting. Edit only. `bash -n` not applicable (markdown).

### Done When
- [ ] `/improve` SKILL.md Phase 3 describes all 4 discovery checks
- [ ] Cadence table present in SKILL.md
- [ ] `/reflect` SKILL.md updated with weekly discovery steps
- [ ] Both files pass 400-line limit check

### For User Review
- Domain saturation heatmap format — is "WRK-items-per-skill per domain" ratio
  the right signal, or should it be something else?
- Enhancement priority queue: top-5 by frequency or by recency of use?
