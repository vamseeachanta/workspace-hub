# Smart Agent Router Configuration
# Version: 2.0.0
# Defines tier routing, dimension weights, confidence thresholds, and model selection

version: 2.0.0

tiers:
  SIMPLE:
    primary: codex
    fallbacks: [gemini, claude]
    max_context_tokens: 8000
    description: Short factual queries, status checks, simple lookups
  STANDARD:
    primary: codex
    fallbacks: [claude, gemini]
    max_context_tokens: 32000
    description: Implementation tasks, bug fixes, refactoring
  COMPLEX:
    primary: claude
    fallbacks: [gemini, codex]
    max_context_tokens: 128000
    description: Architecture decisions, multi-file changes, design
  REASONING:
    primary: claude
    fallbacks: [gemini, codex]
    max_context_tokens: 200000
    description: Proofs, convergence analysis, deep trade-off evaluation

dimensions:
  reasoning_depth:
    weight: 0.20
    provider_signal: claude
  code_density:
    weight: 0.18
    provider_signal: codex
  architecture_scope:
    weight: 0.15
    provider_signal: claude
  implementation_action:
    weight: 0.12
    provider_signal: codex
  research_analysis:
    weight: 0.10
    provider_signal: gemini
  task_complexity:
    weight: 0.08
    provider_signal: tier
  agentic_markers:
    weight: 0.06
    provider_signal: codex
  review_quality:
    weight: 0.05
    provider_signal: all
  data_processing:
    weight: 0.04
    provider_signal: gemini
  simple_indicators:
    weight: 0.02
    provider_signal: cheapest

confidence:
  auto_route_threshold: 0.70
  suggest_threshold: 0.50

session_pinning:
  enabled: true
  ttl_minutes: 30

models:
  registry: model-registry.yaml
  adaptive_routing:
    enabled: true
    ewma_override: false  # Set true to override registry EWMA params here
